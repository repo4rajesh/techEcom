"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[679],{21679:function(e,t,a){a.r(t),a.d(t,{PagesModule:function(){return Ke}});var n=a(38583),i=a(3675),s=a(3679),r=a(6050),o=a(64762),p=a(41964),l=a(5207),d=a(37540),c=a(99922),g=a(81702),m=a(75894);class u{constructor(e){this.pagesupdate={},this.pagesupdate=e||""}}class h{constructor(e){this.pagescount={},this.pagescount=e||""}}var f=a(37716),v=a(9900);let S=(()=>{class e extends v.V{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}pagesGetData(){return this.pagesData}pagesSetData(e){this.pagesData=e}getpageslist(e){let t={};return t=e,this.http.get(this.url+"/page/pagelist",{params:t})}Addpages(e){return this.http.post(this.url+"/page/add-page",e)}updatepages(e,t){return this.http.put(this.url+"/page/update-page/"+t,e)}deletepageslist(e,t){return this.http.delete(this.url+"/page/delete-page/"+t,e)}pagesBulkDelete(e){return this.http.post(this.url+"/page/delete-page",e)}getPageCount(){return this.http.get(this.url+"/page/page-count")}getpageDetails(e){return this.http.get(this.url+"/page/page-detail",{params:e})}groupList(e){return this.http.get(this.url+"/page-group/PageGrouplist",{params:e})}}return e.\u0275fac=function(){let t;return function(a){return(t||(t=f.\u0275\u0275getInheritedFactory(e)))(a||e)}}(),e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var b=a(25624);class C{constructor(e,t,a){this.action$=e,this.apiCli=t,this.appState=a,this.doPagesList$=this.action$.pipe((0,r.l4)(g.MF.DO_PAGES_LIST_ACTION),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getpageslist(e).pipe((0,d.w)(e=>[new g.qT(e)]),(0,m.K)(e=>(0,p.of)(new g.xL(e)))))),this.doPagesCountList$=this.action$.pipe((0,r.l4)(g.MF.DO_PAGES_COUNT_LIST_ACTION),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getpageslist(e).pipe((0,d.w)(e=>[new g.Tc(new h(e))]),(0,m.K)(e=>(0,p.of)(new g.Pq(e)))))),this.activePageCount$=this.action$.pipe((0,r.l4)(g.MF.GET_ACTIVE_COUNT),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getpageslist(e).pipe((0,d.w)(e=>[new g.B_(new h(e))]),(0,m.K)(e=>(0,p.of)(new g.o(e)))))),this.in_activePageCount$=this.action$.pipe((0,r.l4)(g.MF.GET_IN_ACTIVE_COUNT),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getpageslist(e).pipe((0,d.w)(e=>[new g.t7(new h(e))]),(0,m.K)(e=>(0,p.of)(new g.hN(e)))))),this.doAddPagesList$=this.action$.pipe((0,r.l4)(g.MF.DO_ADD_PAGES_LIST),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.Addpages(e).pipe((0,c.b)(e=>{this.appState.dispatch(new g.dl({count:1,status:1})),this.appState.dispatch(new g.oQ({count:1,status:1}))}),(0,l.U)(e=>new g.pF(e)),(0,m.K)(e=>(0,p.of)(new g.H6(e)))))),this.doUpdatePagesList$=this.action$.pipe((0,r.l4)(g.MF.DO_UPDATE_PAGES_LIST),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.updatepages(e,e.pageId).pipe((0,c.b)(e=>{this.appState.dispatch(new g.dl({count:1,status:1})),this.appState.dispatch(new g.oQ({count:1,status:1}))}),(0,l.U)(e=>new g.NV(new u(e))),(0,m.K)(e=>(0,p.of)(new g.zM(e)))))),this.doPagesDelete$=this.action$.pipe((0,r.l4)(g.MF.DO_PAGES_DELETE),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.deletepageslist(e,e.pageId).pipe((0,c.b)(e=>{this.appState.dispatch(new g.dl({count:1,status:1})),this.appState.dispatch(new g.oQ({count:1,status:1}))}),(0,d.w)(e=>[new g.NW(e)]),(0,m.K)(e=>(0,p.of)(new g.p0(e)))))),this.doPagesBulkDelete$=this.action$.pipe((0,r.l4)(g.MF.DO_PAGES_BULK_DELETE),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.pagesBulkDelete(e).pipe((0,c.b)(e=>{this.appState.dispatch(new g.dl({count:1,status:1})),this.appState.dispatch(new g.oQ({count:1,status:0}))}),(0,d.w)(e=>[new g.Qg(e)]),(0,m.K)(e=>(0,p.of)(new g.rZ(e)))))),this.pageCount$=this.action$.pipe((0,r.l4)(g.MF.GET_PAGE_COUNT),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getPageCount().pipe((0,d.w)(e=>[new g.f0(e)]),(0,m.K)(e=>(0,p.of)(new g.Ms(e)))))),this.pageDetails$=this.action$.pipe((0,r.l4)(g.MF.GET_PAGE_DETAILS),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.getpageDetails(e).pipe((0,d.w)(e=>[new g.WL(e)]),(0,m.K)(e=>(0,p.of)(new g.GJ(e)))))),this.groupList$=this.action$.pipe((0,r.l4)(g.MF.GROUP_LIST),(0,l.U)(e=>e.payload),(0,d.w)(e=>this.apiCli.groupList(e).pipe((0,d.w)(e=>[new g.Ht(e)]),(0,m.K)(e=>(0,p.of)(new g.TZ(e))))))}}C.\u0275fac=function(e){return new(e||C)(f.\u0275\u0275inject(r.eX),f.\u0275\u0275inject(S),f.\u0275\u0275inject(b.yh))},C.\u0275prov=f.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),(0,o.gn)([(0,r.Qm)()],C.prototype,"doPagesList$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"doPagesCountList$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"activePageCount$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"in_activePageCount$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"doAddPagesList$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"doUpdatePagesList$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"doPagesDelete$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"doPagesBulkDelete$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"pageCount$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"pageDetails$",void 0),(0,o.gn)([(0,r.Qm)()],C.prototype,"groupList$",void 0);var x=a(80933),y=a(44882);const I=e=>e.pages,P=(0,x.P1)(I,y.wH),w=((0,x.P1)(I,y.dZ),(0,x.P1)(I,y.bD),(0,x.P1)(I,y.Fx)),E=(0,x.P1)(I,y.qn),k=((0,x.P1)(I,y.rK),(0,x.P1)(I,y.jj),(0,x.P1)(I,y.f1)),M=((0,x.P1)(I,y.SZ),(0,x.P1)(I,y.a4),(0,x.P1)(I,y.ay)),D=(0,x.P1)(I,y.f2),F=((0,x.P1)(I,y.Gk),(0,x.P1)(I,y.u$)),T=(0,x.P1)(I,y.uz),$=(0,x.P1)(I,y.mY),B=(0,x.P1)(I,y.mC),A=(0,x.P1)(I,y.AM),L=((0,x.P1)(I,y.wW),(0,x.P1)(I,y.H8),(0,x.P1)(I,y.e3)),q=(0,x.P1)(I,y.Hb),_=((0,x.P1)(I,y.A3),(0,x.P1)(I,y.X8));class O{constructor(e){this.limit=e.limit||0,this.offset=e.offset||0,this.keyword=e.keyword||""}}class N{constructor(e){this.title=e.title||"",this.content=e.content||"",this.metaTagTitle=e.metaTagTitle||"",this.metaTagContent=e.metaTagContent||"",this.metaTagKeyword=e.metaTagKeyword||"",this.active=e.active||0,e.bannerId&&(this.pageId=e.bannerId||0),this.pageGroupId=e.pageGroupId||""}}class j{constructor(e){this.title=e.title||"",this.content=e.content||"",this.active=e.active||0,this.pageId=e.pageId||0,this.metaTagTitle=e.metaTagTitle||"",this.metaTagContent=e.metaTagContent||"",this.metaTagKeyword=e.metaTagKeyword||"",e.bannerId&&(this.pageId=e.pageId||0),this.pageGroupId=e.pageGroupId||0}}class z{constructor(e){this.limit=e.limit||0,this.offset=e.offset||0,this.keyword=e.keyword||"",this.count=e.count||0}}var K=a(70853);let U=(()=>{class e{constructor(e,t){this.appState=e,this.router=t,this.subscriptions=[],this.pagesList$=this.appState.select(P),this.pagesListCount$=this.appState.select(w),this.addPages$=this.appState.select(E),this.addPagesStatus$=this.appState.select(F),this.updatePages$=this.appState.select(k),this.pagesDelete$=this.appState.select(M),this.activePageCount$=this.appState.select(T),this.inactivePageCount$=this.appState.select($),this.pageCount$=this.appState.select(B),this.pageCountLoading$=this.appState.select(A),this.pageDetails$=this.appState.select(L),this.pageDetailsLoading$=this.appState.select(q),this.pageDetailsLoaded$=this.appState.select(D),this.groupList$=this.appState.select(_),this.subscribe()}getPagesList(e){this.appState.dispatch(new g.SQ(new O(e)))}updatePagesList(e){this.appState.dispatch(new g.rC(new j(e)))}getPagePagination(e){this.appState.dispatch(new g.bf(new z(e)))}getActivePageCount(e){this.appState.dispatch(new g.dl(e))}getInactivePageCount(e){this.appState.dispatch(new g.oQ(e))}getAddpages(e){this.appState.dispatch(new g.QQ(new N(e)))}deletePagesList(e){this.appState.dispatch(new g.u1(e))}bulkDelete(e){this.appState.dispatch(new g.OI(e))}getPageCount(){this.appState.dispatch(new g.wc)}getPageDetails(e){this.appState.dispatch(new g.MV(e))}getGroupList(e){this.appState.dispatch(new g.Q(e))}subscribe(){this.subscriptions.push(this.pagesDelete$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/pages/list"])}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(b.yh),f.\u0275\u0275inject(K.F0))},e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var V=a(72782),G=a(59070),H=a(29790);function Q(e,t){1&e&&f.\u0275\u0275element(0,"span",6)}function R(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"h3"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"async"),f.\u0275\u0275elementStart(3,"button",7),f.\u0275\u0275element(4,"img",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();let t;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",null==(t=f.\u0275\u0275pipeBind1(2,1,e.pageSandbox.pageCount$))?null:t.totalPage," ")}}function W(e,t){1&e&&f.\u0275\u0275element(0,"span",6)}function X(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"h3"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"async"),f.\u0275\u0275elementStart(3,"button",9),f.\u0275\u0275element(4,"img",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();let t;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",null==(t=f.\u0275\u0275pipeBind1(2,1,e.pageSandbox.pageCount$))?null:t.activePage," ")}}function Z(e,t){1&e&&f.\u0275\u0275element(0,"span",6)}function Y(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"h3"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"async"),f.\u0275\u0275elementStart(3,"button",10),f.\u0275\u0275element(4,"img",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();let t;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",null==(t=f.\u0275\u0275pipeBind1(2,1,e.pageSandbox.pageCount$))?null:t.inActivePage," ")}}let J=(()=>{class e{constructor(e){this.pageSandbox=e}ngOnInit(){this.getPagesLists()}getPagesLists(){this.pageSandbox.getPagePagination({count:1}),this.pageSandbox.getPageCount()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(U))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-pages-layout"]],decls:29,vars:27,consts:[[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"],["type","button","placement","bottom","ngbTooltip","Total number of pages on the platform.",1,"btn"],["src","assets/img/info-ico.png","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of active pages on the platform.",1,"btn"],["type","button","placement","left","ngbTooltip","Total number of in-active pages on the platform.",1,"btn"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275elementStart(4,"ul"),f.\u0275\u0275elementStart(5,"li"),f.\u0275\u0275elementStart(6,"p"),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(9,Q,1,0,"span",4),f.\u0275\u0275pipe(10,"async"),f.\u0275\u0275template(11,R,5,3,"h3",5),f.\u0275\u0275pipe(12,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"li"),f.\u0275\u0275elementStart(14,"p"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,W,1,0,"span",4),f.\u0275\u0275pipe(18,"async"),f.\u0275\u0275template(19,X,5,3,"h3",5),f.\u0275\u0275pipe(20,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"li"),f.\u0275\u0275elementStart(22,"p"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(25,Z,1,0,"span",4),f.\u0275\u0275pipe(26,"async"),f.\u0275\u0275template(27,Y,5,3,"h3",5),f.\u0275\u0275pipe(28,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(8,9,"CMS.Pages.totalPages")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(10,11,t.pageSandbox.pageCountLoading$)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!f.\u0275\u0275pipeBind1(12,13,t.pageSandbox.pageCountLoading$)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,15,"CMS.Pages.activePages")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(18,17,t.pageSandbox.pageCountLoading$)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!f.\u0275\u0275pipeBind1(20,19,t.pageSandbox.pageCountLoading$)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(24,21,"CMS.Pages.inactivePages")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(26,23,t.pageSandbox.pageCountLoading$)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!f.\u0275\u0275pipeBind1(28,25,t.pageSandbox.pageCountLoading$)))},directives:[n.NgIf,V._L],pipes:[H.X$,n.AsyncPipe],styles:[".custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#b282e7!important;border:#b282e7!important}"],changeDetection:0}),e})();var ee=a(99233),te=a(86640);function ae(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.PageTitleIsRequired")," "))}function ne(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",29),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}function ie(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275template(1,ae,3,3,"div",27),f.\u0275\u0275template(2,ne,3,3,"div",28),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.f.pageTitle.errors.required),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.pagesForm.get("pageTitle").hasError("maxlength"))}}function se(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.PageContentIsRequired")," "))}function re(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"CMS.Error.ThisFieldIsRequired")))}function oe(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275template(1,re,3,3,"div",27),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.f.active.errors.required)}}function pe(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.MetaTitleIsRequired")," "))}function le(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.MetaTagTitleMaxlength70")," "))}function de(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275template(1,pe,3,3,"div",27),f.\u0275\u0275template(2,le,3,3,"div",27),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.f.metaTitle.errors.required),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.pagesForm.get("metaTitle").hasError("maxlength"))}}function ce(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.MetaKeywordIsRequired")," "))}function ge(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}function me(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275template(1,ce,3,3,"div",27),f.\u0275\u0275template(2,ge,3,3,"div",27),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.f.metaKeyword.errors.required),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.pagesForm.get("metaKeyword").hasError("maxlength"))}}function ue(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.MetaContentIsRequired")," "))}function he(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"CMS.Error.Mustbe160")," "))}function fe(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275template(1,ue,3,3,"div",27),f.\u0275\u0275template(2,he,3,3,"div",27),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.f.metaContent.errors.required),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.pagesForm.get("metaContent").hasError("maxlength"))}}const ve=function(e){return{"is-invalid":e}},Se=function(e){return{cke_chrome:e}},be=function(e){return{"error-fields":e}};let Ce=(()=>{class e{constructor(e,t,a,n,i,s,r,o){this.modalService=e,this.appSandbox=t,this.service=a,this.fb=n,this.route=i,this.modalService2=s,this.router=r,this.ckeconfiqservice=o,this.submitted=!1,this.pagesInfo=[],this.id="",this.subscriptions=[],this.queryDetails={},this.config=this.ckeconfiqservice.getckeconfig();const p=this.route.snapshot.queryParamMap.get("offset"),l=this.route.snapshot.queryParamMap.get("index");this.queryDetails.offset=p||0,this.queryDetails.index=l||0}ngOnInit(){if(this.initForm(),this.editPagesId=this.route.snapshot.paramMap.get("id"),this.editPagesId){const e={};e.pageId=this.editPagesId,this.appSandbox.getPageDetails(e),this.editPages()}}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}open2(e){this.modalService.open(e,{windowClass:"image-manager"}).result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}open(e){this.modalService2.open(e,{windowClass:"dark-modal,image-manager"})}getDismissReason(e){return e===V.If.ESC?"by pressing ESC":e===V.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}pagesCancel(){this.router.navigate(["/cms/pages"],{queryParams:this.queryDetails})}initForm(){this.pageTitle=new s.FormControl("",s.Validators.compose([s.Validators.required,s.Validators.maxLength(255)])),this.pageSlug=new s.FormControl(""),this.pageContent=new s.FormControl("",s.Validators.compose([s.Validators.required])),this.active=new s.FormControl(null,[s.Validators.required]),this.groupId=new s.FormControl(null,[s.Validators.required]),this.metaTitle=new s.FormControl("",s.Validators.compose([s.Validators.maxLength(70)])),this.metaKeyword=new s.FormControl("",s.Validators.compose([s.Validators.maxLength(255)])),this.metaContent=new s.FormControl("",s.Validators.compose([s.Validators.maxLength(160)])),this.pagesForm=this.fb.group({pageTitle:this.pageTitle,pageSlug:this.pageSlug,pageContent:this.pageContent,active:this.active,metaTitle:this.metaTitle,metaKeyword:this.metaKeyword,metaContent:this.metaContent,groupId:this.groupId})}onSubmit(){if(this.submitted=!0,this.pagesForm.valid){if(""!==this.pagesForm.value.pageTitle&&""!==this.pagesForm.value.pageContent){const e={};e.title=this.pagesForm.value.pageTitle,e.content=this.pagesForm.value.pageContent,e.pageSlug=this.pagesForm.value.pageSlug,e.active=this.pagesForm.value.active,e.metaTagTitle=this.pagesForm.value.metaTitle,e.metaTagKeyword=this.pagesForm.value.metaKeyword,e.metaTagContent=this.pagesForm.value.metaContent,this.editPagesId?(e.pageId=this.editPagesId,this.appSandbox.updatePagesList(e)):this.appSandbox.getAddpages(e)}this.subscribe()}else this.validateAllFormFields(this.pagesForm)}subscribe(){this.subscriptions.push(this.appSandbox.addPagesStatus$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/pages/list"],{queryParams:this.queryDetails})})),this.subscriptions.push(this.appSandbox.updatePages$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/pages/list"],{queryParams:this.queryDetails})}))}editPages(){this.subscriptions.push(this.appSandbox.pageDetails$.subscribe(e=>{e&&Object.keys(e).length&&this.setPage(e)}))}setPage(e){this.pagesForm.controls.pageTitle.setValue(e.title),this.pagesForm.controls.pageContent.setValue(this.htmlTagConversion(e.content)),this.pagesForm.controls.active.setValue(e.isActive),this.pagesForm.controls.pageSlug.setValue(e.slugName),this.pagesForm.controls.metaTitle.setValue(e.metaTagTitle),this.pagesForm.controls.metaKeyword.setValue(e.metaTagKeyword),this.pagesForm.controls.metaContent.setValue(e.metaTagContent)}get f(){return this.pagesForm.controls}validateAllFormFields(e){Object.keys(e.controls).forEach(t=>{const a=e.get(t);a instanceof s.FormControl?a.markAsTouched({onlySelf:!0}):a instanceof s.FormGroup&&this.validateAllFormFields(a)})}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(V.FF),f.\u0275\u0275directiveInject(U),f.\u0275\u0275directiveInject(S),f.\u0275\u0275directiveInject(s.FormBuilder),f.\u0275\u0275directiveInject(K.gz),f.\u0275\u0275directiveInject(V.FF),f.\u0275\u0275directiveInject(K.F0),f.\u0275\u0275directiveInject(G.U))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-cms-pages-add"]],decls:87,vars:83,consts:[[1,"row","products-section",2,"margin","unset"],[1,"col-12"],[1,"breadcrumbs-row","noborder"],[1,"bc-col"],[1,"bc-col-btn","ap-col-btn"],["type","submit",1,"btn","btn-save",3,"click"],["src","assets/img/tick-round-white.png","alt","add"],[1,"btn","btn-cancel",3,"click"],["src","assets/img/close-white-ico.png","alt","close"],[1,"flex","addproduct-wrap","addgroup-wrap"],[1,"card","ap-general"],[1,"form-horizontal","m-t-20",3,"formGroup","ngSubmit"],[1,"ap-header"],[1,"flex","ap-body","cmsap-body"],[1,"ap-body-col"],[1,"form-group"],["type","text","formControlName","pageTitle",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],["type","text","formControlName","pageSlug",1,"form-control",3,"placeholder"],[1,"ap-body-col","width100"],["formControlName","pageContent","name","pageContent",1,"cms_pages_validation",3,"config","ngClass"],["formControlName","active","id","inlineFormCustomSelect",3,"placeholder","searchable","ngClass"],[3,"value"],["type","text","formControlName","metaTitle",1,"form-control",3,"placeholder","ngClass"],["type","text","formControlName","metaKeyword",1,"form-control",3,"placeholder","ngClass"],["rows","3","formControlName","metaContent",1,"form-control",3,"placeholder","ngClass"],[1,"validation-error"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(f.\u0275\u0275element(0,"app-pages-layout"),f.\u0275\u0275elementStart(1,"div",0),f.\u0275\u0275elementStart(2,"div",1),f.\u0275\u0275elementStart(3,"div",2),f.\u0275\u0275element(4,"div",3),f.\u0275\u0275elementStart(5,"div",4),f.\u0275\u0275elementStart(6,"button",5),f.\u0275\u0275listener("click",function(){return t.onSubmit()}),f.\u0275\u0275element(7,"img",6),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"button",7),f.\u0275\u0275listener("click",function(){return t.pagesCancel()}),f.\u0275\u0275element(11,"img",8),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",9),f.\u0275\u0275elementStart(15,"div",10),f.\u0275\u0275elementStart(16,"form",11),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(17,"div",12),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",13),f.\u0275\u0275elementStart(21,"div",14),f.\u0275\u0275elementStart(22,"div",15),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementStart(26,"sup"),f.\u0275\u0275text(27,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(28,"input",16),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275template(30,ie,3,2,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",14),f.\u0275\u0275elementStart(32,"div",15),f.\u0275\u0275elementStart(33,"label"),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(36,"input",18),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",19),f.\u0275\u0275elementStart(39,"div",15),f.\u0275\u0275elementStart(40,"label"),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementStart(43,"sup"),f.\u0275\u0275text(44,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(45,"ckeditor",20),f.\u0275\u0275template(46,se,3,3,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",14),f.\u0275\u0275elementStart(48,"div",15),f.\u0275\u0275elementStart(49,"label"),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementStart(52,"sup"),f.\u0275\u0275text(53,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"ng-select",21),f.\u0275\u0275pipe(55,"translate"),f.\u0275\u0275elementStart(56,"ng-option",22),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"ng-option",22),f.\u0275\u0275text(60),f.\u0275\u0275pipe(61,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(62,oe,2,1,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(63,"div",14),f.\u0275\u0275elementStart(64,"div",15),f.\u0275\u0275elementStart(65,"label"),f.\u0275\u0275text(66),f.\u0275\u0275pipe(67,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(68,"input",23),f.\u0275\u0275pipe(69,"translate"),f.\u0275\u0275template(70,de,3,2,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",14),f.\u0275\u0275elementStart(72,"div",15),f.\u0275\u0275elementStart(73,"label"),f.\u0275\u0275text(74),f.\u0275\u0275pipe(75,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(76,"input",24),f.\u0275\u0275pipe(77,"translate"),f.\u0275\u0275template(78,me,3,2,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(79,"div",14),f.\u0275\u0275elementStart(80,"div",15),f.\u0275\u0275elementStart(81,"label"),f.\u0275\u0275text(82),f.\u0275\u0275pipe(83,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(84,"textarea",25),f.\u0275\u0275pipe(85,"translate"),f.\u0275\u0275template(86,fe,3,2,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,35,"CMS.Pages.Save")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(13,37,"CMS.Pages.Cancel")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",t.pagesForm),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,39,"CMS.Pages.GeneralInformation")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(25,41,"CMS.Pages.PageTitle")," "),f.\u0275\u0275advance(4),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(29,43,"CMS.Placeholder.PageTitle")),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(71,ve,t.submitted&&t.f.pageTitle.errors)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.f.pageTitle.errors),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,45,"CMS.Pages.pageSlug")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(37,47,"CMS.Placeholder.pageSlug")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(42,49,"CMS.Pages.PageContent")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("config",t.config)("ngClass",f.\u0275\u0275pureFunction1(73,Se,!t.pagesForm.get("pageContent").valid&&t.pagesForm.get("pageContent").touched&&1==t.submitted)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.pagesForm.get("pageContent").hasError("required")&&t.pagesForm.get("pageContent").touched&&1==t.submitted),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,51,"CMS.Pages.Active")),f.\u0275\u0275advance(4),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(55,53,"CMS.Pages.SelectStatus")),f.\u0275\u0275property("searchable",!1)("ngClass",f.\u0275\u0275pureFunction1(75,be,t.submitted&&t.f.active.errors)),f.\u0275\u0275advance(2),f.\u0275\u0275property("value",1),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(58,55,"CMS.Pages.Yes")),f.\u0275\u0275advance(2),f.\u0275\u0275property("value",0),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(61,57,"CMS.Pages.No")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.f.active.errors),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(67,59,"CMS.Pages.MetaTitle")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(69,61,"CMS.Placeholder.MetaTitle")),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(77,ve,t.submitted&&t.f.metaTitle.errors)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.f.metaTitle.errors),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(75,63,"CMS.Pages.MetaKeyword")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(77,65,"CMS.Placeholder.MetaKeyword")),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(79,ve,t.submitted&&t.f.metaKeyword.errors)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.f.metaKeyword.errors),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(83,67,"CMS.Pages.MetaContent")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(85,69,"CMS.Placeholder.MetaContent")),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(81,ve,t.submitted&&t.f.metaContent.errors)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.f.metaContent.errors))},directives:[J,s.\u0275NgNoValidate,s.NgControlStatusGroup,s.FormGroupDirective,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,n.NgClass,n.NgIf,ee.ue,te.w9,te.xv],pipes:[H.X$],styles:[".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2}),e})();var xe=a(9819),ye=a(59798),Ie=a(89113),Pe=a(99692);function we(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"span",38),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"Settings.Role.Active")))}function Ee(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"span",39),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"Settings.Role.InActive")))}const ke=function(){return{standalone:!0}},Me=function(){return["delete-pages","edit-pages"]};function De(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th",26),f.\u0275\u0275elementStart(2,"div",18),f.\u0275\u0275elementStart(3,"div",19),f.\u0275\u0275elementStart(4,"input",27),f.\u0275\u0275listener("click",function(t){const a=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().selectChkBox(t,a.pageId)})("ngModelChange",function(t){const a=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().checkmodules[a.pageId]=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(5,"label",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"td",29),f.\u0275\u0275text(7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td",30),f.\u0275\u0275template(9,we,4,3,"div",31),f.\u0275\u0275template(10,Ee,4,3,"div",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td",32),f.\u0275\u0275elementStart(12,"div",33),f.\u0275\u0275element(13,"i",34),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275elementStart(15,"a",35),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().editPageList(t)}),f.\u0275\u0275element(16,"img",36),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"a",35),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().deletePages(t.pageId)}),f.\u0275\u0275element(20,"img",37),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,a=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("appHideIfUnauthorized","delete-pages"),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("id",e.pageId),f.\u0275\u0275property("checked",a.checkCondition[e.pageId])("ngModelOptions",f.\u0275\u0275pureFunction0(18,ke))("ngModel",a.checkmodules[e.pageId]),f.\u0275\u0275advance(1),f.\u0275\u0275propertyInterpolate("for",e.pageId),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.title),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",1==e.isActive),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0==e.isActive),f.\u0275\u0275advance(1),f.\u0275\u0275property("multipleHide",f.\u0275\u0275pureFunction0(19,Me)),f.\u0275\u0275advance(4),f.\u0275\u0275property("appHideIfUnauthorized","edit-pages"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(18,14,"CMS.Pages.Edit")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("appHideIfUnauthorized","delete-pages"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(22,16,"CMS.Pages.Delete")," ")}}function Fe(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",40),f.\u0275\u0275elementStart(1,"p"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"Sales.Orders.datanotfound")))}const Te=function(e){return{"export-data":e}},$e=function(e){return{blur:e}},Be=function(e){return[e]};let Ae=(()=>{class e{constructor(e,t,a,n,i,s){this.modalService=e,this.toastr=t,this.service=a,this.appSandbox=n,this.router=i,this.route=s,this.pageSize=5,this.keyword="",this.checkarray=[],this.checkCondition=[],this.checkmodules=[],this.checkedData=[],this.unCheckData=[],this.subscriptions=[],this.queryData={}}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.getPagesList(this.offset,this.keyword),this.getPagesPagination(this.offset,this.keyword),this.regSubscriptionEvents()}open2(e){this.modalService.open(e,{windowClass:"view-address"}).result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}getDismissReason(e){return e===V.If.ESC?"by pressing ESC":e===V.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}regSubscriptionEvents(){this.subscriptions.push(this.appSandbox.pagesDelete$.subscribe(e=>{e&&e.status&&1===e.status&&(this.getPagesList(this.offset,this.keyword),this.getPagesPagination(this.offset,this.keyword))}))}getPagesList(e=0,t){const a={};a.limit=this.pageSize,a.offset=e,a.keyword=this.keyword,this.appSandbox.getPagesList(a),this.queryData.offset=e||0,this.queryData.index=this.index||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.queryData,queryParamsHandling:"merge"})}getPagesPagination(e=0,t){const a={};a.limit=this.pageSize,a.offset=e,a.keyword=this.keyword,a.count=!0,this.appSandbox.getPagePagination(a)}onPageChange(e){this.currentPage=e.offset,this.pageSize=e.pageSize,this.index=e.pageIndex,this.getPagesList(e.pageSize*e.pageIndex,this.pageSize)}editPageList(e){this.router.navigate(["/cms/pages/edit",e.pageId],{queryParams:this.queryData})}addPage(){this.service.pagesSetData(""),this.router.navigate(["/cms/pages/add"],{queryParams:this.queryData})}deletePages(e){const t=this.modalService.open(xe.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});t.componentInstance.key="",t.componentInstance.id="",t.result.then(t=>{"deleted"===t&&(this.appSandbox.deletePagesList({pageId:e}),this.getPagesList(this.offset,this.keyword),this.getPagesPagination(this.offset,this.keyword))})}bulkDelete(){const e=this.modalService.open(xe.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});e.componentInstance.key="",e.componentInstance.id="",e.result.then(e=>{if("deleted"===e){const e={};e.pageId=this.checkedData,this.appSandbox.bulkDelete(e),this.checkedData=[],this.subscriptions.push(this.appSandbox.pagesDelete$.subscribe(e=>{e&&1===e.status&&this.getPagesList(this.offset,this.keyword)}))}})}selectChkBox(e,t){!0===e.target.checked&&this.checkedData.push(t),!1===e.target.checked&&(this.unCheckData.push(t),this.unCheckData.forEach((e,t)=>{this.checkedData=this.checkedData.filter(t=>e!==t)})),this.unCheckData=[]}bulkDeleteEmpty(){this.showNotificationError("Choose atleast one Page")}showNotificationError(e){this.toastr.errorToastr(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(V.FF),f.\u0275\u0275directiveInject(ye.eP),f.\u0275\u0275directiveInject(S),f.\u0275\u0275directiveInject(U),f.\u0275\u0275directiveInject(K.F0),f.\u0275\u0275directiveInject(K.gz))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-spurt-cms-page-list"]],decls:43,vars:41,consts:[[1,"row","products-section","products-sub-section"],[1,"col-12"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-nav-list"],[1,"bc-col-btn"],[1,"btn","cms-btn",3,"appHideIfUnauthorized","click"],["src","assets/img/add-white-ico.png","alt","add"],["ngbDropdown","",1,"dropdown",3,"appHideIfUnauthorized"],["ngbDropdownToggle","",1,"fa","fa-ellipsis-h","cursor",2,"padding","8px 10px","margin-left","16px","background","#d3c3e5",3,"ngClass"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","","href","javascript:void(0)",1,"dropdown-item",3,"ngClass","disabled","click"],["src","assets/img/delete-sm.svg"],[1,"flex","product-wrap"],[1,"product-table",2,"width","100%"],[1,"table-responsive"],[1,"table"],["scope","col","width","5%",3,"appHideIfUnauthorized"],[1,"form-group"],[1,"custom-control","custom-checkbox","mr-sm-2"],["scope","col"],["scope","col",1,"text-center"],["scope","col","width","100",1,"text-center",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],["class","no_data",4,"ngIf"],[3,"length","pageSizeOptions","pageSize","pageIndex","page"],["scope","row",1,"text-center",3,"appHideIfUnauthorized"],["type","checkbox",1,"custom-control-input",3,"id","checked","ngModelOptions","ngModel","click","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"name"],[1,"text-center"],[4,"ngIf"],[1,"text-center",3,"appHideIfUnauthorized","multipleHide"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle","",1,"fa","fa-ellipsis-v","cursor",2,"padding","0 15px"],["ngbDropdownItem","","href","javascript:void(0)",1,"dropdown-item",3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt","edit"],["src","assets/img/delete-new.png","alt","delete"],[1,"tag-active"],[1,"tag-inactive"],[1,"no_data"]],template:function(e,t){if(1&e&&(f.\u0275\u0275element(0,"app-pages-layout"),f.\u0275\u0275elementStart(1,"div",0),f.\u0275\u0275elementStart(2,"div",1),f.\u0275\u0275elementStart(3,"div",2),f.\u0275\u0275element(4,"div",3),f.\u0275\u0275elementStart(5,"div",4),f.\u0275\u0275elementStart(6,"div",5),f.\u0275\u0275elementStart(7,"button",6),f.\u0275\u0275listener("click",function(){return t.addPage()}),f.\u0275\u0275element(8,"img",7),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",8),f.\u0275\u0275element(12,"i",9),f.\u0275\u0275elementStart(13,"div",10),f.\u0275\u0275elementStart(14,"a",11),f.\u0275\u0275listener("click",function(){return t.bulkDelete()}),f.\u0275\u0275element(15,"img",12),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",13),f.\u0275\u0275elementStart(19,"div",14),f.\u0275\u0275elementStart(20,"div",15),f.\u0275\u0275elementStart(21,"table",16),f.\u0275\u0275elementStart(22,"thead"),f.\u0275\u0275elementStart(23,"tr"),f.\u0275\u0275elementStart(24,"th",17),f.\u0275\u0275elementStart(25,"div",18),f.\u0275\u0275element(26,"div",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"th",20),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"th",21),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"th",22),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"tbody"),f.\u0275\u0275template(37,De,23,20,"tr",23),f.\u0275\u0275pipe(38,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(39,Fe,4,3,"div",24),f.\u0275\u0275pipe(40,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"mat-paginator",25),f.\u0275\u0275listener("page",function(e){return t.onPageChange(e)}),f.\u0275\u0275pipe(42,"async"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){let e;f.\u0275\u0275advance(7),f.\u0275\u0275property("appHideIfUnauthorized","create-pages"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(10,18,"CMS.Pages.NewPage")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("appHideIfUnauthorized","delete-pages"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(34,Te,0!=t.checkedData.length)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(36,$e,0==t.checkedData.length))("disabled",0==t.checkedData.length),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(17,20,"catalog.nav.Delete")," "),f.\u0275\u0275advance(8),f.\u0275\u0275property("appHideIfUnauthorized","delete-pages"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,22,"CMS.Pages.Title")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,24,"CMS.Pages.Status")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multipleHide",f.\u0275\u0275pureFunction0(38,Me)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,26,"CMS.Pages.Action")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind1(38,28,t.appSandbox.pagesList$)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0==(null==(e=f.\u0275\u0275pipeBind1(40,30,t.appSandbox.pagesList$))?null:e.length)),f.\u0275\u0275advance(2),f.\u0275\u0275property("length",f.\u0275\u0275pipeBind1(42,32,t.appSandbox.pagesListCount$))("pageSizeOptions",f.\u0275\u0275pureFunction1(39,Be,t.pageSize))("pageSize",t.pageSize)("pageIndex",t.index)}},directives:[J,Ie.E,V.jt,V.iD,n.NgClass,V.Vi,V.TH,n.NgForOf,n.NgIf,Pe.NW,s.CheckboxControlValueAccessor,s.NgControlStatus,s.NgModel],pipes:[H.X$,n.AsyncPipe],styles:[".custom-checkbox .custom-control-input:checked~.custom-control-label:before{background-color:#b282e7!important;border:#b282e7!important}.form-group{margin:0}.product-wrap .product-table .table .custom-checkbox{top:0}.export-data{background:#d2a9ff!important}\n",".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2}),e})();var Le=a(8300);const qe=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Ae,canActivate:[Le.a],data:{permission:"list-pages",urls:[{title:"CMS",url:""},{title:"Pages",url:""},{title:"List",url:""}]}},{path:"add",component:Ce,canActivate:[Le.a],data:{permission:"create-pages",urls:[{title:"CMS",url:""},{title:"Pages",url:""},{title:"Add",url:""}]}},{path:"edit/:id",component:Ce,canActivate:[Le.a],data:{permission:"edit-pages",urls:[{title:"CMS",url:""},{title:"Pages",url:""},{title:"Update",url:""}]}}];let _e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({imports:[[K.Bz.forChild(qe)],K.Bz]}),e})();var Oe=a(39717),Ne=a(20044),je=a(91841),ze=a(12476);let Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({providers:[S,U],imports:[[n.CommonModule,i.o,s.FormsModule,s.ReactiveFormsModule,Oe.q,ze.K,_e,r.sQ.forFeature([C]),H.aw.forChild({loader:{provide:H.Zw,useFactory:Ne.g,deps:[je.eN]}}),ee.dF]]}),e})()},9819:function(e,t,a){a.d(t,{j:function(){return s}});var n=a(37716),i=a(72782);let s=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key&&this.activeModal.close("deleted")}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275directiveInject(i.Kz))},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["app-delete-confirmation-dialog"]],decls:12,vars:0,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275elementStart(1,"button",1),n.\u0275\u0275listener("click",function(){return t.close()}),n.\u0275\u0275elementStart(2,"span",2),n.\u0275\u0275text(3,"\xd7"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"h4"),n.\u0275\u0275element(5,"img",3),n.\u0275\u0275text(6," Do You Want To Delete? "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(7,"div",4),n.\u0275\u0275elementStart(8,"button",5),n.\u0275\u0275listener("click",function(){return t.close()}),n.\u0275\u0275text(9," No "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(10,"button",6),n.\u0275\u0275listener("click",function(){return t.deleteContent()}),n.\u0275\u0275text(11," Yes "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementEnd())},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),e})()}}]);