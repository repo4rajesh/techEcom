"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[910],{43910:function(e,t,n){n.r(t),n.d(t,{SalesModule:function(){return D}});var a=n(38583),r=n(3675),o=n(3679),s=n(70853),l=n(37716),i=n(83871),d=n(33821),p=n(39075),c=n(89113),u=n(29790);const m=function(){return["/sales/orders"]};let y=(()=>{class e{constructor(e){this.titleService=e}ngOnInit(){this.titleService.setTitle("Sales")}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(p.Dx))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["app-sales-header"]],decls:8,vars:7,consts:[[1,"subtoolbar","salestoolbar"],[1,"sub-nav-menu"],["href","javascript:void(0)",3,"appHideIfUnauthorized","routerLink","routerLinkActive"],["src","assets/img/header-icons/sales/sales-order.svg","alt","orders"],["src","assets/img/header-icons/sales/sales-order-on.svg","alt","orders"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"a",2),l.\u0275\u0275elementStart(3,"span"),l.\u0275\u0275element(4,"img",3),l.\u0275\u0275element(5,"img",4),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(2),l.\u0275\u0275property("appHideIfUnauthorized","list-order")("routerLink",l.\u0275\u0275pureFunction0(6,m))("routerLinkActive","active"),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(7,4,"Sales.Orders.Orders")," "))},directives:[s.yS,c.E,s.Od],pipes:[u.X$],styles:[".qr-nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}"],changeDetection:0}),e})();var f=n(16731),h=n(72782),g=n(86400);function b(e,t){1&e&&l.\u0275\u0275element(0,"span",6)}function S(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"h3"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementStart(3,"button",7),l.\u0275\u0275element(4,"img",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){const e=l.\u0275\u0275nextContext();let t;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",null==(t=l.\u0275\u0275pipeBind1(2,1,e.layoutSandbox.salesCount$))?null:t.totalOrder," ")}}function v(e,t){1&e&&l.\u0275\u0275element(0,"span",6)}function x(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"h3"),l.\u0275\u0275text(1),l.\u0275\u0275elementStart(2,"button",9),l.\u0275\u0275element(3,"img",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){const e=t.ngIf;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",null==e.todayOrderCount?null:e.todayOrderCount.orderCount," ")}}function C(e,t){if(1&e&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,x,4,1,"h3",5),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275elementContainerEnd()),2&e){const e=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(2,1,e.layoutSandbox.salesCount$))}}function I(e,t){1&e&&l.\u0275\u0275element(0,"span",6)}function O(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"h3"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"currencysymbol"),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275pipe(4,"async"),l.\u0275\u0275elementStart(5,"button",10),l.\u0275\u0275element(6,"img",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){const e=l.\u0275\u0275nextContext();let t;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind2(2,1,null==(t=l.\u0275\u0275pipeBind1(3,4,e.layoutSandbox.salesCount$))?null:t.totalOrderAmount,l.\u0275\u0275pipeBind1(4,6,e.commonSandbox.settings$))," ")}}function E(e,t){1&e&&l.\u0275\u0275element(0,"span",6)}function L(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"h3"),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"currencysymbol"),l.\u0275\u0275pipe(3,"async"),l.\u0275\u0275pipe(4,"async"),l.\u0275\u0275elementStart(5,"button",11),l.\u0275\u0275element(6,"img",8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){const e=l.\u0275\u0275nextContext();let t;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("",l.\u0275\u0275pipeBind2(2,1,null==(t=l.\u0275\u0275pipeBind1(3,4,e.layoutSandbox.salesCount$))?null:t.todayOrderAmount,l.\u0275\u0275pipeBind1(4,6,e.commonSandbox.settings$))," ")}}const B=[{path:"",redirectTo:"orders",pathMatch:"full"},{path:"",component:(()=>{class e{constructor(e,t){this.layoutSandbox=e,this.commonSandbox=t}ngOnInit(){this.layoutSandbox.getSalesCount()}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(i.Q),l.\u0275\u0275directiveInject(d.b))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["app-sales-layout"]],decls:40,vars:36,consts:[[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"],["type","button","placement","bottom","ngbTooltip","Total number of orders placed by all the customers on the platform.",1,"btn"],["src","assets/img/info-ico.png","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of orders on this day.",1,"btn"],["type","button","placement","bottom","ngbTooltip","Total amount earned on the orders.",1,"btn"],["type","button","placement","left","ngbTooltip","Total amount earned on orders, on this day.",1,"btn"]],template:function(e,t){1&e&&(l.\u0275\u0275element(0,"app-sales-header"),l.\u0275\u0275element(1,"app-breadcrumb"),l.\u0275\u0275elementStart(2,"div",0),l.\u0275\u0275elementStart(3,"div",1),l.\u0275\u0275elementStart(4,"div",2),l.\u0275\u0275elementStart(5,"div",3),l.\u0275\u0275elementStart(6,"ul"),l.\u0275\u0275elementStart(7,"li"),l.\u0275\u0275elementStart(8,"p"),l.\u0275\u0275text(9),l.\u0275\u0275pipe(10,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(11,b,1,0,"span",4),l.\u0275\u0275pipe(12,"async"),l.\u0275\u0275template(13,S,5,3,"h3",5),l.\u0275\u0275pipe(14,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(15,"li"),l.\u0275\u0275elementStart(16,"p"),l.\u0275\u0275text(17),l.\u0275\u0275pipe(18,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(19,v,1,0,"span",4),l.\u0275\u0275pipe(20,"async"),l.\u0275\u0275template(21,C,3,3,"ng-container",5),l.\u0275\u0275pipe(22,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(23,"li"),l.\u0275\u0275elementStart(24,"p"),l.\u0275\u0275text(25),l.\u0275\u0275pipe(26,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(27,I,1,0,"span",4),l.\u0275\u0275pipe(28,"async"),l.\u0275\u0275template(29,O,7,8,"h3",5),l.\u0275\u0275pipe(30,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(31,"li"),l.\u0275\u0275elementStart(32,"p"),l.\u0275\u0275text(33),l.\u0275\u0275pipe(34,"translate"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(35,E,1,0,"span",4),l.\u0275\u0275pipe(36,"async"),l.\u0275\u0275template(37,L,7,8,"h3",5),l.\u0275\u0275pipe(38,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(39,"router-outlet")),2&e&&(l.\u0275\u0275advance(9),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(10,12,"Sales.Orders.TotalOrder")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(12,14,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(14,16,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(18,18,"Sales.Orders.TodayOrder")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(20,20,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(22,22,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(26,24,"Sales.Orders.TotalOrderAmount")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(28,26,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(30,28,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(34,30,"Sales.Orders.TodayOrderAmount")),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",l.\u0275\u0275pipeBind1(36,32,t.layoutSandbox.salesCountLoading$)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",!l.\u0275\u0275pipeBind1(38,34,t.layoutSandbox.salesCountLoading$)))},directives:[y,f.L,a.NgIf,s.lC,h._L],pipes:[u.X$,a.AsyncPipe,g.G],styles:[""],changeDetection:0}),e})(),children:[{path:"orders",loadChildren:()=>Promise.all([n.e(592),n.e(951)]).then(n.bind(n,4951)).then(e=>e.OrdersModule),canActivate:[n(8300).a],data:{root:"sales",permissionForHeader:"sales-orders"}}]}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({imports:[[s.Bz.forChild(B)],s.Bz]}),e})();var $=n(39717),T=n(6050),j=n(91841),A=n(9900);let M=(()=>{class e extends A.V{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getOrderListCount(e){const t={};return Object.getOwnPropertyNames(e).reduce((t,n)=>t.set(n,e[n]),new j.LE),t.params={count:"true",customerName:"",dateAdded:"",keyword:"",limit:"",offset:"",orderId:"",totalAmount:"",orderStatusId:""},this.http.get(this.URL+"/order/orderlist",t)}getTodayOrderListCount(e){const t={},n=Object.getOwnPropertyNames(e).reduce((t,n)=>t.set(n,e[n]),new j.LE);return t.params=n,this.http.get(this.URL+"/order/today-order-count",t)}getTotalOrderAmount(e){const t={},n=Object.getOwnPropertyNames(e).reduce((t,n)=>t.set(n,e[n]),new j.LE);return t.params=n,this.http.get(this.URL+"/order/total-order-amount",t)}getTodayOrderAmount(e){const t={},n=Object.getOwnPropertyNames(e).reduce((t,n)=>t.set(n,e[n]),new j.LE);return t.params=n,this.http.get(this.URL+"/order/today-order-amount",t)}changePayment(e){return this.http.post(this.URL+"/order/update-payment-status",e)}getSalesCount(){return this.http.get(this.URL+"/order/order-count")}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=l.\u0275\u0275getInheritedFactory(e)))(n||e)}}(),e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var U=n(64762),k=n(41964),P=n(5207),N=n(37540),R=n(99469),F=n(75894);class _{constructor(e,t){this.action$=e,this.layoutService=t,this.salesCount$=this.action$.pipe((0,T.l4)(R.MF.GET_SALES_COUNT),(0,P.U)(e=>e.payload),(0,N.w)(e=>this.layoutService.getSalesCount().pipe((0,N.w)(e=>[new R.Dz(e)]),(0,F.K)(e=>(0,k.of)(new R.Zn(e))))))}}_.\u0275fac=function(e){return new(e||_)(l.\u0275\u0275inject(T.eX),l.\u0275\u0275inject(M))},_.\u0275prov=l.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),(0,U.gn)([(0,T.Qm)()],_.prototype,"salesCount$",void 0);var z=n(12476);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({providers:[M,i.Q],imports:[[a.CommonModule,w,r.o,$.q,z.K,o.FormsModule,o.ReactiveFormsModule,T.sQ.forFeature([_]),u.aw.forChild()]]}),e})()}}]);