"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[996],{29996:function(e,t,r){r.r(t),r.d(t,{PersonalizeOrderModule:function(){return M}});var n=r(38583),i=r(3679),o=r(6050),s=r(29790),a=r(39717),d=r(3675),l=r(70853),p=r(37716),c=r(64386),u=r(77080);class m{constructor(e){this.invoicePrefix=e.invoicePrefix||"",this.orderStatus=e.orderStatus||0}}var f=r(80933),h=r(86022);const v=e=>e.personalizeOrder,g=((0,f.P1)(v,h.Zf),(0,f.P1)(v,h.eV));var S=r(25624);let x=(()=>{class e{constructor(e){this.appState=e,this.getPersonalizeOrder$=this.appState.select(g)}createPersonalizeOrder(e){this.appState.dispatch(new u._c(new m(e)))}getPersonalizeOrder(){this.appState.dispatch(new u.G8)}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(S.yh))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var b=r(86640);function O(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"ng-option",16),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;p.\u0275\u0275property("value",e.orderStatusId),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(e.name)}}const w=function(e){return{"is-invalid":e}},y=function(){return["/settings"]},E=[{path:"",component:(()=>{class e{constructor(e,t,r){this.fb=e,this.orderStatusSandbox=t,this.sandbox=r,this.submitted=!1,this.subscriptions=[],this.keyword="",this.pageSize=5}get f(){return this.perOrderForm.controls}ngOnInit(){this.initForm(),this.getPersonalizeOrder(),this.getOrderStatusList(this.offset,this.keyword),this.subscribe()}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}initForm(){this.perOrderForm=this.fb.group({invoicePrefix:[null,[i.Validators.required]],orderStatus:[null,[i.Validators.required]]})}onSubmit(){if(this.submitted=!0,this.perOrderForm.invalid)return;const e={};e.orderStatus=this.perOrderForm.value.orderStatus,e.invoicePrefix=this.perOrderForm.value.invoicePrefix,this.sandbox.createPersonalizeOrder(e)}getPersonalizeOrder(){this.sandbox.getPersonalizeOrder()}subscribe(){this.subscriptions.push(this.sandbox.getPersonalizeOrder$.subscribe(e=>{e&&e[0]&&(this.perOrderForm.controls.invoicePrefix.setValue(e[0].invoicePrefix),this.perOrderForm.controls.orderStatus.setValue(e[0].orderStatus))}))}getOrderStatusList(e=0,t){const r={};r.limit=this.pageSize,r.offset=e,r.keyword=this.keyword,this.orderStatusSandbox.orderStatusList(r)}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275directiveInject(i.FormBuilder),p.\u0275\u0275directiveInject(c.w),p.\u0275\u0275directiveInject(x))},e.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-settings-countries"]],decls:40,vars:28,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","setup-personalize"],[1,"setup-container","flex"],[1,"setup-left"],[1,"setup-right"],[1,"form-horizontal","m-t-20",2,"margin","0",3,"formGroup"],[1,"sup-rht-section"],[1,"suprs-form"],[1,"suprs-form-row","flex"],[1,"suprs-form-col"],["type","text","formControlName","invoicePrefix",1,"form-control",3,"ngClass"],["formControlName","orderStatus",3,"placeholder","searchable"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","srbtn"],[1,"cancel",3,"routerLink"],[3,"click"],[3,"value"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"h4"),p.\u0275\u0275text(2,"Note :"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"p"),p.\u0275\u0275text(4,"The admin can configure the number of orders per page in this section What is required here?"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"div",1),p.\u0275\u0275elementStart(6,"div",2),p.\u0275\u0275elementStart(7,"div",3),p.\u0275\u0275elementStart(8,"h3"),p.\u0275\u0275text(9),p.\u0275\u0275pipe(10,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"p"),p.\u0275\u0275text(12,"The admin can provide the invoice prefix that will follow the order number here. This will be the common prefix for all the order numbers. The admin can also set up the default order status once it is placed by the Customer."),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(13,"div",4),p.\u0275\u0275elementStart(14,"form",5),p.\u0275\u0275elementStart(15,"div",6),p.\u0275\u0275elementStart(16,"div",7),p.\u0275\u0275elementStart(17,"div",8),p.\u0275\u0275elementStart(18,"label"),p.\u0275\u0275text(19),p.\u0275\u0275pipe(20,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(21,"div",9),p.\u0275\u0275element(22,"input",10),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"div",7),p.\u0275\u0275elementStart(24,"div",8),p.\u0275\u0275elementStart(25,"label"),p.\u0275\u0275text(26),p.\u0275\u0275pipe(27,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(28,"div",9),p.\u0275\u0275elementStart(29,"ng-select",11),p.\u0275\u0275pipe(30,"translate"),p.\u0275\u0275template(31,O,2,2,"ng-option",12),p.\u0275\u0275pipe(32,"async"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(33,"div",13),p.\u0275\u0275elementStart(34,"button",14),p.\u0275\u0275text(35),p.\u0275\u0275pipe(36,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(37,"button",15),p.\u0275\u0275listener("click",function(){return t.onSubmit()}),p.\u0275\u0275text(38),p.\u0275\u0275pipe(39,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(9),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(10,11,"Settings.personalize.order.Order")),p.\u0275\u0275advance(5),p.\u0275\u0275property("formGroup",t.perOrderForm),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(20,13,"Settings.personalize.order.InvoicePrefix")),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngClass",p.\u0275\u0275pureFunction1(25,w,t.submitted&&t.f.invoicePrefix.errors)),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(27,15,"Settings.personalize.order.OrderStatus")),p.\u0275\u0275advance(3),p.\u0275\u0275propertyInterpolate("placeholder",p.\u0275\u0275pipeBind1(30,17,"Settings.personalize.order.ChooseOrderStatus")),p.\u0275\u0275property("searchable",!1),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngForOf",p.\u0275\u0275pipeBind1(32,19,t.orderStatusSandbox.getOrderstatuslist$)),p.\u0275\u0275advance(3),p.\u0275\u0275property("routerLink",p.\u0275\u0275pureFunction0(27,y)),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(36,21,"Settings.personalize.order.Cancel")),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(39,23,"Settings.Local.Save")))},directives:[i.\u0275NgNoValidate,i.NgControlStatusGroup,i.FormGroupDirective,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,n.NgClass,b.w9,n.NgForOf,l.rH,b.xv],pipes:[s.X$,n.AsyncPipe],styles:[".mat-radio-outer-circle[_ngcontent-%COMP%]{left:-3px!important;margin-top:-3px!important;width:19px!important}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({imports:[[l.Bz.forChild(E)],l.Bz]}),e})();var P=r(9900);let I=(()=>{class e extends P.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}createOrder(e){return this.http.post(this.url+"/settings/create-settings",e)}getOrder(){return this.http.get(this.url+"/settings/get-settings")}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=p.\u0275\u0275getInheritedFactory(e)))(r||e)}}(),e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var z=r(64762),C=r(41964),k=r(5207),N=r(37540),j=r(75894);class ${constructor(e,t){this.action$=e,this.service=t,this.doAddseo$=this.action$.pipe((0,o.l4)(u.MF.DO_NEW_ORDER_SETTINGS),(0,k.U)(e=>e.payload),(0,N.w)(e=>this.service.createOrder(e).pipe((0,N.w)(e=>[new u.SN(e)]),(0,j.K)(e=>(0,C.of)(new u.Uj(e)))))),this.dogetseosetting$=this.action$.pipe((0,o.l4)(u.MF.DO_ORDER_SETTINGS),(0,k.U)(e=>e.payload),(0,N.w)(()=>this.service.getOrder().pipe((0,N.w)(e=>[new u.K9(e)]),(0,j.K)(e=>(0,C.of)(new u.kH(e))))))}}$.\u0275fac=function(e){return new(e||$)(p.\u0275\u0275inject(o.eX),p.\u0275\u0275inject(I))},$.\u0275prov=p.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac}),(0,z.gn)([(0,o.Qm)()],$.prototype,"doAddseo$",void 0),(0,z.gn)([(0,o.Qm)()],$.prototype,"dogetseosetting$",void 0);var B=r(12476);let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({providers:[x,I],imports:[[n.CommonModule,d.o,i.FormsModule,i.ReactiveFormsModule,a.q,F,s.aw.forChild(),B.K,o.sQ.forFeature([$])]]}),e})()}}]);