{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../../../../../core/admin/settings/personalize/product/product-sandbox\";\nimport * as i4 from \"../../../../shared/components/directives/disable-if-unauthorized.directive\";\nimport * as i5 from \"../../../../shared/components/directives/hide-if-unauthorized.directive\";\nimport * as i6 from \"@ngx-translate/core\";\n\nconst _c0 = function () {\n  return [\"/settings\"];\n};\n\nexport let PersonalizeProductComponent = /*#__PURE__*/(() => {\n  class PersonalizeProductComponent {\n    constructor(fb, route, sandbox) {\n      this.fb = fb;\n      this.route = route;\n      this.sandbox = sandbox;\n      this.submitted = false;\n      this.subscriptions = [];\n    } // VALIDATION\n\n\n    get f() {\n      return this.perProductForm.controls;\n    }\n    /**\n     * Handles form 'ngOnInit' event. Calls InitForm , Bind Forms Value - navigation function here.\n     *\n     */\n\n\n    ngOnInit() {\n      this.initForm();\n      this.setDefaultValues();\n      this.getPersonalizeProduct();\n      this.subscribe();\n    }\n\n    beforeChange($event) {\n      if ($event.panelId === 'preventchange-2') {\n        $event.preventDefault();\n      }\n\n      if ($event.panelId === 'preventchange-3' && $event.nextState === false) {\n        $event.preventDefault();\n      }\n    } // Set PostCode Default Value -Yes\n\n\n    setDefaultValues() {\n      this.perProductForm.patchValue({\n        productCount: 'Yes',\n        tc: true\n      });\n    } // FORM VALIDATION\n\n\n    initForm() {\n      this.perProductForm = this.fb.group({\n        itemPage: [null],\n        productCount: [null]\n      });\n    }\n    /**\n     * Handles form 'submit' event. Calls sandbox PersonalizeProduct createPersonalizeProduct if form is valid.\n     *\n     * @param perProductForm entire form value\n     * @param para storing entire value\n     */\n\n\n    onSubmit() {\n      this.submitted = true;\n\n      if (this.perProductForm.invalid) {\n        return;\n      }\n\n      const para = {};\n      para.itemPage = this.perProductForm.value.itemPage;\n\n      if (this.perProductForm.value.productCount === 'Yes') {\n        para.categoryProductCount = 1;\n      } else {\n        para.categoryProductCount = 0;\n      }\n\n      this.sandbox.createPersonalizeProduct(para);\n    }\n    /**\n     * Handles form 'list' event. Calls sandbox  getPersonalizeProduct  function .\n     *\n     */\n\n\n    getPersonalizeProduct() {\n      this.sandbox.getPersonalizeProduct();\n    } // Subscribe general settings data bind form control values\n\n\n    subscribe() {\n      this.subscriptions.push(this.sandbox.getPersonalizeProduct$.subscribe(data => {\n        if (data && data[0]) {\n          this.perProductForm.controls['itemPage'].setValue(data[0].itemsPerPage);\n\n          if (data[0].categoryProductCount === 1) {\n            this.perProductForm.patchValue({\n              productCount: 'Yes',\n              tc: true\n            });\n          } else if (data[0].categoryProductCount === 0) {\n            this.perProductForm.patchValue({\n              productCount: 'No',\n              tc: true\n            });\n          }\n        }\n      }));\n    }\n\n  }\n\n  PersonalizeProductComponent.ɵfac = function PersonalizeProductComponent_Factory(t) {\n    return new (t || PersonalizeProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.PersonalizeProductSandbox));\n  };\n\n  PersonalizeProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PersonalizeProductComponent,\n    selectors: [[\"app-settings-countries\"]],\n    decls: 41,\n    vars: 22,\n    consts: [[1, \"set-lay-notes\", \"flex\", 2, \"padding\", \"0 10px 10px 10px\"], [1, \"setup-wrapper\", \"setup-personalize\"], [1, \"setup-container\", \"flex\"], [1, \"setup-left\"], [1, \"setup-right\"], [1, \"form-horizontal\", \"m-t-20\", 2, \"margin\", \"0\", 3, \"formGroup\"], [1, \"sup-rht-section\"], [1, \"suprs-form\"], [1, \"suprs-form-row\", \"flex\"], [1, \"supvalidation\"], [1, \"suprs-form-col\"], [\"type\", \"text\", \"formControlName\", \"itemPage\", 1, \"form-control\", 3, \"appDisableIfUnauthorized\"], [1, \"mm-row\", \"flex\"], [1, \"toggle\"], [\"id\", \"cb1\", \"type\", \"checkbox\", 1, \"tgl\", \"tgl-light\", 3, \"checked\"], [\"for\", \"cb1\", 1, \"tgl-btn\"], [1, \"flex\", \"srbtn\"], [1, \"cancel\", 3, \"routerLink\", \"appHideIfUnauthorized\"], [3, \"appHideIfUnauthorized\", \"click\"]],\n    template: function PersonalizeProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h4\");\n        i0.ɵɵtext(2, \"Note :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"The admin can configure number of products per page in this section. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"h3\");\n        i0.ɵɵtext(9);\n        i0.ɵɵpipe(10, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\");\n        i0.ɵɵtext(12, \"The admin can set up the default number for display of items per page and this can be based on the number or products in each category also. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 4);\n        i0.ɵɵelementStart(14, \"form\", 5);\n        i0.ɵɵelementStart(15, \"div\", 6);\n        i0.ɵɵelementStart(16, \"div\", 7);\n        i0.ɵɵelementStart(17, \"div\", 8);\n        i0.ɵɵelementStart(18, \"label\");\n        i0.ɵɵtext(19);\n        i0.ɵɵpipe(20, \"translate\");\n        i0.ɵɵelementStart(21, \"sup\", 9);\n        i0.ɵɵtext(22, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵelement(24, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 7);\n        i0.ɵɵelementStart(26, \"div\", 8);\n        i0.ɵɵelementStart(27, \"div\", 12);\n        i0.ɵɵelementStart(28, \"label\");\n        i0.ɵɵtext(29);\n        i0.ɵɵpipe(30, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 13);\n        i0.ɵɵelement(32, \"input\", 14);\n        i0.ɵɵelement(33, \"label\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 16);\n        i0.ɵɵelementStart(35, \"button\", 17);\n        i0.ɵɵtext(36);\n        i0.ɵɵpipe(37, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function PersonalizeProductComponent_Template_button_click_38_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtext(39);\n        i0.ɵɵpipe(40, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 11, \"Settings.personalize.product.WhatProductdetailsarerequired\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.perProductForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 13, \"Settings.personalize.product.DefaultItemsPerPage\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"appDisableIfUnauthorized\", \"edit-personalize-product\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(30, 15, \"Settings.personalize.product.CategoryProductCount\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"checked\", true);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(21, _c0))(\"appHideIfUnauthorized\", \"edit-personalize-product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(37, 17, \"Settings.Local.Country.Cancel\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appHideIfUnauthorized\", \"edit-personalize-product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(40, 19, \"Settings.Local.Save\"));\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.MyDisableIfUnauthorizedDirective, i2.RouterLink, i5.MyHideIfUnauthorizedDirective],\n    pipes: [i6.TranslatePipe],\n    styles: [\"mat-radio-button[_ngcontent-%COMP%]{padding:1px 3px}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}\"]\n  });\n  return PersonalizeProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}