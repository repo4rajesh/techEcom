{"ast":null,"code":"/*\n* spurtcommerce\n* http://www.spurtcommerce.com\n*\n* Copyright (c) 2021 Piccosoft Software Labs Pvt Ltd\n* Author Piccosoft Software Labs Pvt Ltd <support@spurtcommerce.com>\n* Licensed under the MIT license.\n*/\nexport class LoginResponseModel {\n  constructor(loginFormResponse) {\n    if (loginFormResponse.data) {\n      this.accessToken = loginFormResponse.data.token || '';\n      this.userdetails = loginFormResponse.data.user || {};\n\n      if (loginFormResponse.data.permission) {\n        const permissions = JSON.parse(JSON.stringify(loginFormResponse.data.permission));\n        const permissionKeys = loginFormResponse.data.permission ? Object.keys(loginFormResponse.data.permission).filter(function (el) {\n          return loginFormResponse.data.permission[el] === true;\n        }) : []; // SALES\n\n        permissions['sales'] = false;\n        permissions['sales-payments'] = false;\n        permissions['sales-back-order'] = false;\n        permissions['sales-failed-order'] = false;\n        permissions['sales-archive-paments'] = false;\n        permissions['sales-inventory'] = false;\n        permissions['sales-cancel-request'] = false;\n        permissions['sales-quotation-request'] = false;\n        permissions['sales-orders'] = false; // CATALOG\n\n        permissions['catalog'] = false;\n        permissions['catalog-product'] = false;\n        permissions['catalog-brand'] = false;\n        permissions['catalog-category'] = false;\n        permissions['catalog-product-option'] = false;\n        permissions['catalog-rating-review'] = false;\n        permissions['catalog-coupon'] = false;\n        permissions['catalog-import'] = false; // CUSTOMERS\n\n        permissions['customers'] = false;\n        permissions['customers-customer'] = false;\n        permissions['customer-groups'] = false; // CMS\n\n        permissions['cms'] = false;\n        permissions['cms-pages'] = false;\n        permissions['cms-page-group'] = false;\n        permissions['cms-widgets'] = false;\n        permissions['cms-banners'] = false;\n        permissions['cms-blogs'] = false; // MARKET PLACE\n\n        permissions['marketplace'] = false;\n        permissions['marketplace-vendor'] = false;\n        permissions['vendor-list'] = false;\n        permissions['vendor-product'] = false;\n        permissions['vendor-settings'] = false;\n        permissions['marketplace-sales'] = false;\n        permissions['marketplace-payments'] = false;\n        permissions['marketplace-reports'] = false;\n        permissions['marketplace-settlement'] = false;\n        permissions['marketplace-settlement-order'] = false;\n        permissions['marketplace-settlement-history'] = false; // SETTINGS\n\n        permissions['settings'] = false;\n        permissions['settings-role'] = false;\n        permissions['settings-user'] = false;\n        permissions['settings-general-setting'] = false;\n        permissions['settings-site'] = false;\n        permissions['settings-local'] = false;\n        permissions['settings-personalize'] = false;\n        permissions['settings-site-variant'] = false;\n        permissions['settings-site-filter'] = false;\n        permissions['settings-site-attribute'] = false;\n        permissions['settings-site-attribute-groups'] = false;\n        permissions['settings-site-social'] = false;\n        permissions['settings-site-seo'] = false; // REPORTS\n\n        permissions['reports'] = false;\n        permissions['audit-logs'] = false;\n        permissions['sales-report'] = false; // SALES - ORDERS\n\n        if (permissionKeys.indexOf('list-order') > -1 && permissions['list-order']) {\n          permissions['sales'] = true;\n          permissions['sales-orders'] = true;\n        } // SALES - PAYMENTS\n\n\n        if (permissionKeys.indexOf('list-sales-payments') > -1 && permissions['list-sales-payments']) {\n          permissions['sales-payments'] = true;\n          permissions['sales'] = true;\n        } // SALES - BACK ORDER\n\n\n        if (permissionKeys.indexOf('back-order-list') > -1 && permissions['back-order-list']) {\n          permissions['sales-back-order'] = true;\n          permissions['sales'] = true;\n        } // SALES - FAILED ORDER\n\n\n        if (permissionKeys.indexOf('failed-order-list') > -1 && permissions['failed-order-list']) {\n          permissions['sales-failed-order'] = true;\n          permissions['sales'] = true;\n        } // SALES - ARCHIVE PAYMENTS\n\n\n        if (permissionKeys.indexOf('archive-payment-list') > -1 && permissions['archive-payment-list']) {\n          permissions['sales-archive-paments'] = true;\n          permissions['sales'] = true;\n        } // SALES - INVENTORY PRODUTS\n\n\n        if (permissionKeys.indexOf('inventory-list') > -1 && permissions['inventory-list']) {\n          permissions['sales-inventory'] = true;\n          permissions['sales'] = true;\n        } // SALES - CANCEL REQUESTS\n\n\n        if (permissionKeys.indexOf('cancel-request-list') > -1 && permissions['cancel-request-list']) {\n          permissions['sales-cancel-request'] = true;\n          permissions['sales'] = true;\n        } // SALES - QUOTATION REQUESTS\n\n\n        if (permissionKeys.indexOf('quotation-request-list') > -1 && permissions['quotation-request-list']) {\n          permissions['sales-quotation-request'] = true;\n          permissions['sales'] = true;\n        } // CATALOG - PRODUCTS\n\n\n        if (permissionKeys.indexOf('list-product') > -1 && permissions['list-product']) {\n          permissions['catalog-product'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - CATEGORY\n\n\n        if (permissionKeys.indexOf('list-category') > -1 && permissions['list-category']) {\n          permissions['catalog-category'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - OPTIONS\n\n\n        if (permissionKeys.indexOf('list-product-option') > -1 && permissions['list-category']) {\n          permissions['catalog-product-option'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - RATINGS & RIVIEWS\n\n\n        if (permissionKeys.indexOf('list-rating-review') > -1 && permissions['list-rating-review']) {\n          permissions['catalog-rating-review'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - COUPON\n\n\n        if (permissionKeys.indexOf('list-coupon') > -1 && permissions['list-coupon']) {\n          permissions['catalog-coupon'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - BRANDS\n\n\n        if (permissionKeys.indexOf('list-brands') > -1 && permissions['list-brands']) {\n          permissions['catalog-brand'] = true;\n          permissions['catalog'] = true;\n        } // CATALOG - IMPORT\n\n\n        if (permissionKeys.indexOf('import-product') > -1 && permissions['import-product']) {\n          permissions['catalog-import'] = true;\n          permissions['catalog'] = true;\n        } // CUSTOMERS - CUSTOMER\n\n\n        if (permissionKeys.indexOf('list-customer') > -1 && permissions['list-customer']) {\n          permissions['customers-customer'] = true;\n          permissions['customers'] = true;\n        } // CUSTOMERS - CUSTOMER GROUP\n\n\n        if (permissionKeys.indexOf('list-customer-group') > -1 && permissions['list-customer-group']) {\n          permissions['customer-groups'] = true;\n          permissions['customers'] = true;\n        } // CMS - PAGES\n\n\n        if (permissionKeys.indexOf('list-pages') > -1 && permissions['list-pages']) {\n          permissions['cms-pages'] = true;\n          permissions['cms'] = true;\n        } // CMS - BANNERS\n\n\n        if (permissionKeys.indexOf('list-banners') > -1 && permissions['list-banners']) {\n          permissions['cms-banners'] = true;\n          permissions['cms'] = true;\n        } // CMS - BLOGS\n\n\n        if (permissionKeys.indexOf('list-blogs') > -1 && permissions['list-blogs']) {\n          permissions['cms-blogs'] = true;\n          permissions['cms'] = true;\n        } // CMS - PAGE GROUP\n\n\n        if (permissionKeys.indexOf('page-group-list') > -1 && permissions['page-group-list']) {\n          permissions['cms-page-group'] = true;\n          permissions['cms'] = true;\n        } // CMS - WIDGETS\n\n\n        if (permissionKeys.indexOf('widget-list') > -1 && permissions['widget-list']) {\n          permissions['cms-widgets'] = true;\n          permissions['cms'] = true;\n        } // MARKETPLACE - VENDOR\n\n\n        if (permissionKeys.indexOf('list-vendor') > -1 && permissions['list-vendor']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-vendor'] = true;\n          permissions['vendor-list'] = true;\n        } // MARKETPLACE - PRODUCT\n\n\n        if (permissionKeys.indexOf('list-market-place-product') > -1 && permissions['list-market-place-product']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-vendor'] = true;\n          permissions['vendor-product'] = true;\n        } // MARKETPLACE - VENDOR SETTINGS\n\n\n        if (permissionKeys.indexOf('assign-category') > -1 && permissions['assign-category'] || permissionKeys.indexOf('set-vendor-commission') > -1 && permissions['set-vendor-commission']) {\n          permissions['vendor-settings'] = true;\n          permissions['marketplace-vendor'] = true;\n          permissions['marketplace'] = true;\n        } // MARKETPLACE - SALES\n\n\n        if (permissionKeys.indexOf('list-sales') > -1 && permissions['list-sales']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-sales'] = true;\n        } // MARKETPLACE - PAYMENTS\n\n\n        if (permissionKeys.indexOf('list-payment') > -1 && permissions['list-payment']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-payments'] = true;\n        } // MARKETPLACE - REPORTS\n\n\n        if (permissionKeys.indexOf('sales-by-vendor-report') > -1 && permissions['sales-by-vendor-report'] || permissionKeys.indexOf('total-sales-report') > -1 && permissions['total-sales-report'] || permissionKeys.indexOf('settlement-report') > -1 && permissions['settlement-report']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-reports'] = true;\n        } // MARKETPLACE - SETTLEMNTS\n\n\n        if (permissionKeys.indexOf('settlement order list') > -1 && permissions['settlement order list']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-settlement'] = true;\n          permissions['marketplace-settlement-order'] = true;\n        }\n\n        if (permissionKeys.indexOf('settlement-history-list') > -1 && permissions['settlement-history-list']) {\n          permissions['marketplace'] = true;\n          permissions['marketplace-settlement'] = true;\n          permissions['marketplace-settlement-history'] = true;\n        } // SETTINGS - ROLE\n\n\n        if (permissionKeys.indexOf('list-role') > -1 && permissions['list-role']) {\n          permissions['settings'] = true;\n          permissions['settings-role'] = true;\n        } // SETTINGS - USER\n\n\n        if (permissionKeys.indexOf('list-user') > -1 && permissions['list-user']) {\n          permissions['settings'] = true;\n          permissions['settings-user'] = true;\n        } // SETTINGS - LOCALIZATIONS - COUNTRY\n\n\n        if (permissionKeys.indexOf('list-country') > -1 && permissions['list-country']) {\n          permissions['settings-local'] = true;\n          permissions['settings'] = true;\n        } // SETTINGS - LOCALIZATIONS - DELIVERY LOCATION\n\n\n        if (permissionKeys.indexOf('delivery-location-list') > -1 && permissions['delivery-location-list']) {\n          permissions['settings-local'] = true;\n          permissions['settings'] = true;\n        } // SETTINGS - LOCALIZATIONS - LANGUAGE\n\n\n        if (permissionKeys.indexOf('list-language') > -1 && permissions['list-language']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - LOCALIZATIONS - CURRENCY\n\n\n        if (permissionKeys.indexOf('list-currency') > -1 && permissions['list-currency']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - LOCALIZATIONS - TAX\n\n\n        if (permissionKeys.indexOf('list-tax') > -1 && permissions['list-tax']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - LOCALIZATIONS - ORDER STATUS\n\n\n        if (permissionKeys.indexOf('list-order-status') > -1 && permissions['list-order-status']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - LOCALIZATIONS - STOCK STATUS\n\n\n        if (permissionKeys.indexOf('list-stock-status') > -1 && permissions['list-stock-status']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - LOCALIZATIONS - EMAIL TEMPLATE\n\n\n        if (permissionKeys.indexOf('list-email-template') > -1 && permissions['list-email-template']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - GENERAL SETTINGS\n\n\n        if (permissionKeys.indexOf('edit-general-settings') > -1 && permissions['edit-general-settings']) {\n          permissions['settings'] = true;\n          permissions['settings-general-setting'] = true;\n        } // SETTINGS - PERSONALIZE\n\n\n        if (permissionKeys.indexOf('edit-personalize-order') > -1 && permissions['edit-personalize-order']) {\n          permissions['settings'] = true;\n          permissions['settings-personalize'] = true;\n        }\n\n        if (permissionKeys.indexOf('edit-personalize-product') > -1 && permissions['edit-personalize-product']) {\n          permissions['settings'] = true;\n          permissions['settings-personalize'] = true;\n        } // SETTINGS - SITE SETTINGS - SEO\n\n\n        if (permissionKeys.indexOf('edit-seo-url') > -1 && permissions['edit-seo-url']) {\n          permissions['settings'] = true;\n          permissions['settings-site-seo'] = true;\n          permissions['settings-site'] = true;\n        } // SETTINGS - SITE SETTINGS - SOCIAL\n\n\n        if (permissionKeys.indexOf('edit-social-url') > -1 && permissions['edit-social-url']) {\n          permissions['settings'] = true;\n          permissions['settings-site-social'] = true;\n          permissions['settings-site'] = true;\n        } // SETTINGS - LOCALIZATIONS - ZONE\n\n\n        if (permissionKeys.indexOf('list-zone') > -1 && permissions['list-zone']) {\n          permissions['settings'] = true;\n          permissions['settings-local'] = true;\n        } // SETTINGS - SITE SETTINGS - VARINAT\n\n\n        if (permissionKeys.indexOf('variant-list') > -1 && permissions['variant-list']) {\n          permissions['settings-site'] = true;\n          permissions['settings'] = true;\n          permissions['settings-site-variant'] = true;\n        } // SETTINGS - SITE SETTINGS - ATTRIBUTE GROUPS\n\n\n        if (permissionKeys.indexOf('attribute-group-list') > -1 && permissions['attribute-group-list']) {\n          permissions['settings-site'] = true;\n          permissions['settings'] = true;\n          permissions['settings-site-attribute-group'] = true;\n        } // SETTINGS - SITE SETTINGS - ATTRIBUTE\n\n\n        if (permissionKeys.indexOf('list-attribute') > -1 && permissions['list-attribute']) {\n          permissions['settings-site'] = true;\n          permissions['settings'] = true;\n          permissions['settings-site-attribute'] = true;\n        } // SETTINGS - SITE SETTINGS - FILTER\n\n\n        if (permissionKeys.indexOf('filter-list') > -1 && permissions['filter-list']) {\n          permissions['settings-site'] = true;\n          permissions['settings'] = true;\n          permissions['settings-site-filter'] = true;\n        } // REPORTS - AUDIT LOGS\n\n\n        if (permissionKeys.indexOf('audit-log') > -1 && permissions['audit-log']) {\n          permissions['audit-logs'] = true;\n          permissions['reports'] = true;\n        } // REPORTS - SALES REPORT\n\n\n        if (permissionKeys.indexOf('sales-report-list') > -1 && permissions['sales-report-list']) {\n          permissions['sales-report'] = true;\n          permissions['reports'] = true;\n        }\n\n        this.permissions = permissions;\n        sessionStorage.setItem('permissions', JSON.stringify(this.permissions));\n      } else {\n        this.permissions = {};\n      }\n    }\n  }\n  /**\n   * Saves user into local storage\n   */\n\n\n  save() {\n    sessionStorage.setItem('adminUserdetail', JSON.stringify(this));\n    sessionStorage.setItem('adminUser', JSON.stringify(this.userdetails));\n  }\n  /**\n   * Saves user into local storage\n   */\n\n\n  remove() {\n    sessionStorage.removeItem('defaultlanguage');\n    sessionStorage.removeItem('adminUserdetail');\n    sessionStorage.removeItem('adminUser');\n    sessionStorage.removeItem('itemsPerPage');\n    sessionStorage.removeItem('permissions');\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}