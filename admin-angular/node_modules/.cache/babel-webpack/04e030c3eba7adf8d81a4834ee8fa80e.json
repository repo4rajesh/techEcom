{"ast":null,"code":"/*\n* spurtcommerce\n* http://www.spurtcommerce.com\n*\n* Copyright (c) 2021 Piccosoft Software Labs Pvt Ltd\n* Author Piccosoft Software Labs Pvt Ltd <support@spurtcommerce.com>\n* Licensed under the MIT license.\n*/\nimport * as actions from '../action/categories.action'; // state\n\nimport { CategoriesStateRecord } from './categories.state'; // model\n\nimport { CategorylistResponseModel } from '../models/categorylist.response.model';\nexport const initialState = new CategoriesStateRecord();\nexport function reducer(state = initialState, {\n  type,\n  payload\n}) {\n  if (!type) {\n    return state;\n  }\n\n  switch (type) {\n    // <----------------CATEGORY LIST ------------------> //\n    case actions.ActionTypes.DO_CATEGORIES_LIST:\n      {\n        return Object.assign({}, state, {\n          categoriesListResponse: false,\n          categoriesListRequestLoading: true,\n          categoriesListRequestLoaded: false,\n          categoriesListRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_CATEGORIES_LIST_SUCCESS:\n      {\n        const categoriesModel = payload.data.map(list => {\n          const tempcategoriesModel = new CategorylistResponseModel(list);\n          return tempcategoriesModel;\n        });\n        let categoriesFilterModel = [];\n\n        if (!state.categoryListFilter) {\n          categoriesFilterModel = payload.data.map(list => {\n            const tempcategoriesFilterModel = new CategorylistResponseModel(list);\n            return tempcategoriesFilterModel;\n          });\n        } else {\n          categoriesFilterModel = state.categoryListFilter;\n        }\n\n        return Object.assign({}, state, {\n          categoryList: categoriesModel,\n          categoryListFilter: categoriesFilterModel,\n          categoriesListResponse: true,\n          categoriesListRequestLoading: false,\n          categoriesListRequestLoaded: false,\n          categoriesListRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_CATEGORIES_LIST_FAIL:\n      {\n        return Object.assign({}, state, {\n          categoriesListResponse: false,\n          categoriesCountResponse: false,\n          categoriesCountRequestLoading: false,\n          categoriesCountRequestLoaded: true,\n          categoriesCountRequestFailed: true\n        });\n      }\n    // <----------------DELETE CATEGORY LIST ------------------> //\n\n    case actions.ActionTypes.DO_DELETE_CATEGORIES:\n      {\n        return Object.assign({}, state, {\n          deleteCategoriesResponse: false,\n          deleteCategoriesRequestLoading: true,\n          deleteCategoriesRequestLoaded: false,\n          deleteCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_DELETE_CATEGORIES_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          categoryDoDelete: payload,\n          deleteCategoriesResponse: true,\n          deleteCategoriesRequestLoading: false,\n          deleteCategoriesRequestLoaded: false,\n          deleteCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_DELETE_CATEGORIES_FAIL:\n      {\n        return Object.assign({}, state, {\n          deleteCategoriesResponse: false,\n          deleteCategoriesRequestLoading: false,\n          deleteCategoriesRequestLoaded: true,\n          deleteCategoriesRequestFailed: true\n        });\n      }\n    // <----------------ADD CATEGORY ------------------> //\n\n    case actions.ActionTypes.DO_ADDCATEGORIES:\n      {\n        return Object.assign({}, state, {\n          addCategoriesResponse: false,\n          addCategoriesRequestLoading: true,\n          addCategoriesRequestLoaded: false,\n          addCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_ADDCATEGORIES_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          addCatagoryStatus: payload,\n          addCategoriesRequestLoading: false,\n          addCategoriesRequestLoaded: true,\n          addCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_ADDCATEGORIES_FAIL:\n      {\n        return Object.assign({}, state, {\n          addCategoriesResponse: false,\n          addCategoriesRequestLoading: false,\n          addCategoriesRequestLoaded: true,\n          addCategoriesRequestFailed: true\n        });\n      }\n    // <----------------UPDATE CATEGORY ------------------> //\n\n    case actions.ActionTypes.DO_UPDATECATEGORIES:\n      {\n        return Object.assign({}, state, {\n          updateCategoriesResponse: false,\n          updateCategoriesRequestLoading: true,\n          updateCategoriesRequestLoaded: false,\n          updateCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_UPDATECATEGORIES_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          updateCatagory: payload,\n          updateCategoriesResponse: true,\n          updateCategoriesRequestLoading: false,\n          updateCategoriesRequestLoaded: false,\n          updateCategoriesRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_UPDATECATEGORIES_FAIL:\n      {\n        return Object.assign({}, state, {\n          updateCategoryBadresponse: payload,\n          updateCategoriesResponse: false,\n          updateCategoriesRequestLoading: false,\n          updateCategoriesRequestLoaded: true,\n          updateCategoriesRequestFailed: true\n        });\n      }\n    // <----------------REMOVE CATEGORY FROM PRODUCT ADD COMPONENT------------------> //\n\n    case actions.ActionTypes.DO_PRODUCT_REMOVE:\n      {\n        const Data = state.categoryList;\n\n        for (let i = 0; i < Data.length; i++) {\n          if (i === payload) {\n            Data.splice(payload, 1);\n          }\n        }\n\n        return Object.assign({}, state, {\n          productRemoveList: Data,\n          productRemoveResponse: false,\n          productRemoveRequestLoading: true,\n          productRemoveRequestLoaded: false,\n          productRemoveRequestFailed: false\n        });\n      }\n    // <----------------ADD CATEGORY FROM PRODUCT ADD COMPONENT------------------> //\n\n    case actions.ActionTypes.DO_PRODUCT_ADD:\n      {\n        const Data = state.categoryList;\n        Data.push(payload);\n        return Object.assign({}, state, {\n          categoryList: Data,\n          productAddResponse: false,\n          productAddRequestLoading: true,\n          productAddRequestLoaded: false,\n          productAddRequestFailed: false\n        });\n      }\n    // <----------------CATEGORY LIST COUNT------------------> //\n\n    case actions.ActionTypes.DO_CATEGORIESCOUNT:\n      {\n        return Object.assign({}, state, {\n          categoriesCountResponse: false,\n          categoriesCountRequestLoading: true,\n          categoriesCountRequestLoaded: false,\n          categoriesCountRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_CATEGORIESCOUNT_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          categoryListCount: payload.data['productCount'],\n          categoriesCountResponse: true,\n          categoriesCountRequestLoading: false,\n          categoriesCountRequestLoaded: false,\n          categoriesCountRequestFailed: false\n        });\n      }\n\n    case actions.ActionTypes.DO_CATEGORIESCOUNT_FAIL:\n      {\n        return Object.assign({}, state, {\n          categoriesCountResponse: false,\n          categoriesCountRequestLoading: false,\n          categoriesCountRequestLoaded: true,\n          categoriesCountRequestFailed: true\n        });\n      }\n    // <----------------GET CATEGORY DETAILS------------------> //\n\n    case actions.ActionTypes.GET_CATEGORY_DETAILS:\n      {\n        return Object.assign({}, state, {\n          categoryDetailsLoading: true,\n          categoryDetailsLoaded: false,\n          categoryDetailsFailed: false\n        });\n      }\n\n    case actions.ActionTypes.GET_CATEGORY_DETAILS_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          categoryDetails: payload.data,\n          categoryDetailsLoading: false,\n          categoryDetailsLoaded: true,\n          categoryDetailsFailed: false\n        });\n      }\n\n    case actions.ActionTypes.GET_CATEGORY_DETAILS_FAIL:\n      {\n        return Object.assign({}, state, {\n          categoryDetailsLoading: false,\n          categoryDetailsLoaded: false,\n          categoryDetailsFailed: true\n        });\n      }\n    // <----------------FILTER CATEGORY------------------> //\n\n    case actions.ActionTypes.FILTER_CATEGORY:\n      {\n        let tempCategoryArray = [];\n        let catArray = [];\n\n        if (payload && state.categoryList !== undefined) {\n          tempCategoryArray = JSON.parse(JSON.stringify(state.categoryList));\n          catArray = tempCategoryArray.filter(elem => !payload.find(({\n            categoryId\n          }) => elem.categoryId === categoryId));\n        }\n\n        return Object.assign({}, state, {\n          categoryList: catArray\n        });\n      }\n    // <----------------Export Excel------------------> //\n\n    case actions.ActionTypes.CATEGORY_EXPORT_EXCEL:\n      {\n        return Object.assign({}, state, {\n          CategoryExportExcelLoading: true,\n          CategoryExportExcelLoaded: false,\n          CategoryExportExcelFailed: false\n        });\n      }\n\n    case actions.ActionTypes.CATEGORY_EXPORT_EXCEL_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          CategoryExportExcel: payload.data,\n          CategoryExportExcelLoading: false,\n          CategoryExportExcelLoaded: true,\n          CategoryExportExcelFailed: false\n        });\n      }\n\n    case actions.ActionTypes.CATEGORY_EXPORT_EXCEL_FAIL:\n      {\n        return Object.assign({}, state, {\n          CategoryExportExcelLoading: false,\n          CategoryExportExcelLoaded: false,\n          CategoryExportExcelFailed: true\n        });\n      }\n    // <----------------Export Excel------------------> //\n\n    case actions.ActionTypes.EXPORT_ALL_EXCEL:\n      {\n        return Object.assign({}, state, {\n          ExportAllExcelLoading: true,\n          ExportAllExcelLoaded: false,\n          ExportAllExcelFailed: false\n        });\n      }\n\n    case actions.ActionTypes.EXPORT_ALL_EXCEL_SUCCESS:\n      {\n        return Object.assign({}, state, {\n          ExportAllExcel: payload.data,\n          ExportAllExcelLoading: false,\n          ExportAllExcelLoaded: true,\n          ExportAllExcelFailed: false\n        });\n      }\n\n    case actions.ActionTypes.EXPORT_ALL_EXCEL_FAIL:\n      {\n        return Object.assign({}, state, {\n          ExportAllExcelLoading: false,\n          ExportAllExcelLoaded: false,\n          ExportAllExcelFailed: true\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n} // category count action\n\nexport const getCategoryListCount = state => state.categoryListCount;\nexport const getCategoriesCountResponse = state => state.categoriesCountResponse;\nexport const getCategoriesCountRequestLoading = state => state.categoriesCountRequestLoading;\nexport const getCategoriesCountRequestLoaded = state => state.categoriesCountRequestLoaded;\nexport const getCategoriesCountRequestFailed = state => state.categoriesCountRequestFailed;\nexport const getCategoryCountdata = state => state.categoryCountData; // category list action\n\nexport const getCategoryList = state => state.categoryList; // categoryListFilter\n\nexport const getCategoryFilterList = state => state.categoryListFilter;\nexport const getCategoriesListResponse = state => state.categoriesListResponse;\nexport const getCategoriesListRequestLoading = state => state.categoriesListRequestLoading;\nexport const getCategoriesListRequestLoaded = state => state.categoriesListRequestLoaded;\nexport const getCategoriesListRequestFailed = state => state.categoriesListRequestFailed; // category delete action\n\nexport const getCategoryDoDelete = state => state.categoryDoDelete;\nexport const getDeleteCategoriesResponse = state => state.deleteCategoriesResponse;\nexport const getDeleteCategoriesRequestLoading = state => state.deleteCategoriesRequestLoading;\nexport const getDeleteCategoriesRequestLoaded = state => state.deleteCategoriesRequestLoaded;\nexport const getDeleteCategoriesRequestFailed = state => state.deleteCategoriesRequestFailed; // category add action\n\nexport const getAddCatagoryStatus = state => state.addCatagoryStatus;\nexport const getAddCatagoryData = state => state.addCatagoryData;\nexport const getAddCategoriesResponse = state => state.addCategoriesResponse;\nexport const getAddCategoriesRequestLoading = state => state.addCategoriesRequestLoading;\nexport const getAddCategoriesRequestLoaded = state => state.addCategoriesRequestLoaded;\nexport const getAddCategoriesRequestFailed = state => state.addCategoriesRequestFailed; // category update action\n\nexport const getUpdateCategoriesResponse = state => state.updateCategoriesResponse;\nexport const getUpdateCategoriesRequestLoading = state => state.updateCategoriesRequestLoading;\nexport const getUpdateCategoriesRequestLoaded = state => state.updateCategoriesRequestLoaded;\nexport const getUpdateCategoriesRequestFailed = state => state.updateCategoriesRequestFailed;\nexport const getUpdateCategoryBadresponse = state => state.updateCategoryBadresponse;\nexport const getUpdateCatagory = state => state.updateCatagory; // product remove action\n\nexport const getProductRemoveResponse = state => state.productRemoveResponse;\nexport const getProductRemoveRequestLoading = state => state.productRemoveRequestLoading;\nexport const getProductRemoveRequestLoaded = state => state.productRemoveRequestLoaded;\nexport const getProductRemoveRequestFailed = state => state.productRemoveRequestFailed; // product add action\n\nexport const getProductAddResponse = state => state.productAddResponse;\nexport const getProductAddRequestLoading = state => state.productAddRequestLoading;\nexport const getProductAddRequestLoaded = state => state.productAddRequestLoaded;\nexport const getProductAddRequestFailed = state => state.productAddRequestFailed;\nexport const categoryDetails = state => state.categoryDetails;\nexport const categoryDetailsLoading = state => state.categoryDetailsLoading;\nexport const categoryDetailsLoaded = state => state.categoryDetailsLoaded;\nexport const categoryDetailsFailed = state => state.categoryDetailsFailed;\nexport const categoriesListResponse = state => state.categoriesListResponse;\nexport const CategoryExportExcel = state => state.CategoryExportExcel;\nexport const CategoryExportExcelLoading = state => state.CategoryExportExcelLoading;\nexport const CategoryExportExcelLoaded = state => state.CategoryExportExceltLoaded;\nexport const CategoryExportExcelFailed = state => state.CategoryExportExcelFailed;\nexport const CategoryExportExcelResponse = state => state.CategoryExportExcelResponse;\nexport const ExportAllExcel = state => state.ExportAllExcel;\nexport const ExportAllExcelLoading = state => state.ExportAllExcelLoading;\nexport const ExportAllExcelLoaded = state => state.ExportAllExceltLoaded;\nexport const ExportAllExcelFailed = state => state.ExportAllExcelFailed;\nexport const ExportAllExcelResponse = state => state.ExportAllExcelResponse;","map":null,"metadata":{},"sourceType":"module"}