{"ast":null,"code":"/*\n* spurtcommerce\n* http://www.spurtcommerce.com\n*\n* Copyright (c) 2021 Piccosoft Software Labs Pvt Ltd\n* Author Piccosoft Software Labs Pvt Ltd <support@spurtcommerce.com>\n* Licensed under the MIT license.\n*/\nimport { EventEmitter } from '@angular/core';\nimport { EditprofileComponent } from '../../../layout/editprofile/editprofile.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../../core/admin/service/config.service\";\nimport * as i2 from \"../../../../../../core/admin/layout/layout.sandbox\";\nimport * as i3 from \"src/core/admin/profile/editprofile/editprofile.sandbox\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../directives/hide-if-unauthorized.directive\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ngx-translate/core\";\n\nconst _c0 = function () {\n  return [\"/settings\"];\n};\n\nconst _c1 = function () {\n  return [\"/../../editprofile\"];\n};\n\nexport let ProfileBarComponent = /*#__PURE__*/(() => {\n  class ProfileBarComponent {\n    constructor(configService, layoutSandbox, editProfileSandbox) {\n      this.configService = configService;\n      this.layoutSandbox = layoutSandbox;\n      this.editProfileSandbox = editProfileSandbox; // event emitter\n\n      this.toggleSidebar = new EventEmitter();\n      this.logout = new EventEmitter();\n      this.role = {};\n    }\n\n    ngOnInit() {\n      this.editProfileSandbox.getProfile({});\n      this.imageUrls = this.configService.getImageUrl();\n      this.role = sessionStorage.getItem('adminUser') ? JSON.parse(sessionStorage.getItem('adminUser')) : {};\n    }\n\n  }\n\n  ProfileBarComponent.ɵfac = function ProfileBarComponent_Factory(t) {\n    return new (t || ProfileBarComponent)(i0.ɵɵdirectiveInject(i1.ConfigService), i0.ɵɵdirectiveInject(i2.LayoutSandbox), i0.ɵɵdirectiveInject(i3.EditprofileSandbox));\n  };\n\n  ProfileBarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileBarComponent,\n    selectors: [[\"app-profile-bar\"]],\n    viewQuery: function ProfileBarComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(EditprofileComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.child = _t.first);\n      }\n    },\n    inputs: {\n      userDetails: \"userDetails\"\n    },\n    outputs: {\n      toggleSidebar: \"toggleSidebar\",\n      logout: \"logout\"\n    },\n    decls: 27,\n    vars: 20,\n    consts: [[1, \"navbar-nav\", \"float-right\", \"border-left\", \"profile-bar\"], [\"ngbDropdown\", \"\", \"placement\", \"bottom-left\", 1, \"nav-item\", \"dropdown\"], [\"ngbDropdownToggle\", \"\", \"href\", \"javascript:void(0)\", 1, \"nav-link\", 3, \"appHideIfUnauthorized\", \"routerLink\", \"routerLinkActive\"], [\"src\", \"assets/img/header-icons/repairing-service.svg\", \"alt\", \"user\"], [\"ngbDropdown\", \"\", \"placement\", \"bottom-right\", 1, \"nav-item\", \"dropdown\", 2, \"cursor\", \"default\"], [\"href\", \"javascript:void(0)\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\", \"waves-effect\", \"waves-dark\", \"pro-pic\", 2, \"cursor\", \"default\"], [1, \"pro-pic-dropdown\", 2, \"cursor\", \"pointer\"], [\"ngbDropdownToggle\", \"\", \"onError\", \"this.src='./assets/img/avatar-img1.png';\", \"alt\", \"Alps1\", 1, \"w3-circle\", 2, \"width\", \"55px\", \"height\", \"55px\", 3, \"src\"], [\"ngbDropdownMenu\", \"\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"user-dd\", \"animated\", \"top-settings-menu\"], [1, \"dropdown-item\", 3, \"routerLink\"], [\"src\", \"assets/img/icon-person.svg\"], [\"href\", \"javascript:void(0)\", 1, \"dropdown-item\", 3, \"appHideIfUnauthorized\", \"routerLink\"], [\"src\", \"assets/img/repairing-service.svg\"], [\"href\", \"javascript:void(0)\", 1, \"dropdown-item\", 3, \"click\"], [\"src\", \"assets/img/icon-account-logout.svg\"]],\n    template: function ProfileBarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ul\", 0);\n        i0.ɵɵelementStart(1, \"li\", 1);\n        i0.ɵɵelementStart(2, \"a\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"li\", 4);\n        i0.ɵɵelementStart(5, \"a\", 5);\n        i0.ɵɵelementStart(6, \"span\");\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵelement(10, \"img\", 7);\n        i0.ɵɵpipe(11, \"async\");\n        i0.ɵɵpipe(12, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"a\", 9);\n        i0.ɵɵelementStart(15, \"span\");\n        i0.ɵɵelement(16, \"img\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(17, \" My Profile \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"a\", 11);\n        i0.ɵɵelementStart(19, \"span\");\n        i0.ɵɵelement(20, \"img\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21, \" Settings \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"a\", 13);\n        i0.ɵɵlistener(\"click\", function ProfileBarComponent_Template_a_click_22_listener($event) {\n          return ctx.logout.emit($event);\n        });\n        i0.ɵɵelementStart(23, \"span\");\n        i0.ɵɵelement(24, \"img\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25);\n        i0.ɵɵpipe(26, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        let tmp_3_0;\n        let tmp_4_0;\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appHideIfUnauthorized\", \"settings\")(\"routerLink\", i0.ɵɵpureFunction0(17, _c0))(\"routerLinkActive\", \"active\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate((tmp_3_0 = i0.ɵɵpipeBind1(8, 9, ctx.editProfileSandbox.getProfile$)) == null ? null : tmp_3_0.data == null ? null : tmp_3_0.data.firstName);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.imageUrls + \"?path=\" + ((tmp_4_0 = i0.ɵɵpipeBind1(11, 11, ctx.layoutSandbox.user$)) == null ? null : tmp_4_0.avatarPath) + \"&name=\" + ((tmp_4_0 = i0.ɵɵpipeBind1(12, 13, ctx.layoutSandbox.user$)) == null ? null : tmp_4_0.avatar) + \"&width=60&height=60\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(18, _c1));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"appHideIfUnauthorized\", \"settings\")(\"routerLink\", i0.ɵɵpureFunction0(19, _c0));\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(26, 15, \"Profile.user.Logout\"), \" \");\n      }\n    },\n    directives: [i4.NgbDropdown, i5.RouterLinkWithHref, i4.NgbDropdownToggle, i6.MyHideIfUnauthorizedDirective, i5.RouterLinkActive, i4.NgbDropdownMenu],\n    pipes: [i7.AsyncPipe, i8.TranslatePipe],\n    encapsulation: 2\n  });\n  return ProfileBarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}