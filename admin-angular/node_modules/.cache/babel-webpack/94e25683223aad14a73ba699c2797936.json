{"ast":null,"code":"/*\n* spurtcommerce\n* http://www.spurtcommerce.com\n*\n* Copyright (c) 2021 Piccosoft Software Labs Pvt Ltd\n* Author Piccosoft Software Labs Pvt Ltd <support@spurtcommerce.com>\n* Licensed under the MIT license.\n*/\nimport { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../../../../core/admin/catalog/product/product.sandbox\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ng-select/ng-select\";\nimport * as i5 from \"@ngx-translate/core\";\nexport let ProductFilterComponent = /*#__PURE__*/(() => {\n  class ProductFilterComponent {\n    constructor(fb, sandbox, route) {\n      this.fb = fb;\n      this.sandbox = sandbox;\n      this.route = route;\n      this.selectedLink = 'Min';\n      this.progressEmits = new EventEmitter();\n    }\n\n    ngOnInit() {\n      this.pageSize = sessionStorage.getItem('itemsPerPage');\n      this.pagenationCount = true;\n      this.setForm();\n    }\n\n    setForm() {\n      var _a;\n\n      this.initFilterForm();\n      this.filterForm.controls['keyword'].setValue(this.keyword);\n      this.filterForm.controls['sku'].setValue(this.sku);\n      this.filterForm.controls['status'].setValue((_a = this.status) === null || _a === void 0 ? void 0 : _a.toString());\n      this.filterForm.controls['price'].setValue(this.price);\n      this.filterForm.controls['productType'].setValue(this.productType);\n    }\n\n    initFilterForm() {\n      this.filterForm = this.fb.group({\n        keyword: ['', Validators.required],\n        sku: ['', Validators.required],\n        status: [null, Validators.required],\n        price: ['', Validators.required],\n        productType: [null, Validators.required]\n      });\n    }\n\n    selectPrice(e) {\n      this.selectedLink = e;\n    }\n    /**\n     * Handles  'resetFilter' event. Calls  getProductList and reset().\n     *\n     * @param filterForm entire form value\n     */\n\n\n    resetFilter() {\n      if (this.filterForm.value.keyword || this.filterForm.value.sku || this.filterForm.value.status || this.filterForm.value.price || this.filterForm.value.status === 0 || this.filterForm.value.productType) {\n        this.filterForm.reset();\n        const param = {};\n        param.limit = this.pageSize;\n        param.offset = 0;\n        param.keyword = '';\n        param.price = '';\n        param.sku = '';\n        param.status = '';\n        param.productType = '';\n        this.progressEmits.emit(param);\n        this.sandbox.getProductList(param);\n        param.count = 1;\n        this.sandbox.getProductCount(param);\n      }\n    }\n    /**\n     * Handles  'applyFilter' event. Calls  getProductList.\n     * if (selectedLink == 'Min') assign price value 1 ,\n     * else assign price value 1\n     */\n\n\n    applyFilter() {\n      this.keyword = this.filterForm.value.keyword ? this.filterForm.value.keyword : '';\n      this.sku = this.filterForm.value.sku ? this.filterForm.value.sku : '';\n      this.status = this.filterForm.value.status === 0 ? this.status = '0' : this.filterForm.value.status === 1 ? this.status = '1' : '';\n      this.price = this.filterForm.value.price ? this.filterForm.value.price : '';\n      this.productType = this.filterForm.value.productType ? this.filterForm.value.productType : '';\n      console.log('this.productTypethis.productType', this.productType);\n      const params = {};\n      params.offset = '';\n      params.limit = this.pageSize;\n      params.keyword = this.keyword;\n      params.sku = this.sku;\n      params.status = this.status;\n      params.price = this.price;\n      params.productType = this.productType;\n      this.progressEmits.emit(params);\n    }\n\n  }\n\n  ProductFilterComponent.ɵfac = function ProductFilterComponent_Factory(t) {\n    return new (t || ProductFilterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProductSandbox), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n\n  ProductFilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductFilterComponent,\n    selectors: [[\"app-catalog-product-filter\"]],\n    inputs: {\n      pageSize: \"pageSize\"\n    },\n    outputs: {\n      progressEmits: \"progressEmits\"\n    },\n    decls: 55,\n    vars: 52,\n    consts: [[1, \"filter-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"keyword\"], [\"type\", \"text\", \"formControlName\", \"keyword\", \"id\", \"Keyword\", \"aria-describedby\", \"emailHelp\", 1, \"form-control\", 3, \"placeholder\"], [\"for\", \"sku\"], [\"type\", \"text\", \"formControlName\", \"sku\", \"id\", \"sku\", 1, \"form-control\", 3, \"placeholder\"], [1, \"radio\"], [1, \"prod_filter\", 2, \"cursor\", \"pointer\"], [\"type\", \"radio\", \"name\", \"price\", \"value\", \"1\", \"formControlName\", \"price\", 2, \"cursor\", \"pointer\"], [\"type\", \"radio\", \"name\", \"price\", \"value\", \"2\", \"formControlName\", \"price\", 2, \"cursor\", \"pointer\"], [\"id\", \"inlineFormCustomSelect\", \"formControlName\", \"status\", 1, \"sol-fm\", 3, \"placeholder\", \"searchable\", \"clearable\"], [3, \"value\"], [\"placeholder\", \"Select Product Type\", \"id\", \"status\", \"formControlName\", \"productType\", 1, \"sol-fm\", 2, \"cursor\", \"pointer\", 3, \"searchable\", \"clearable\"], [\"value\", \"1\"], [\"value\", \"2\"], [1, \"text-right\", \"filter-btns\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\"]],\n    template: function ProductFilterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function ProductFilterComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.applyFilter();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"label\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵpipe(6, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 1);\n        i0.ɵɵelementStart(8, \"label\", 4);\n        i0.ɵɵtext(9);\n        i0.ɵɵpipe(10, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 5);\n        i0.ɵɵpipe(12, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 1);\n        i0.ɵɵelementStart(14, \"label\");\n        i0.ɵɵtext(15);\n        i0.ɵɵpipe(16, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 6);\n        i0.ɵɵelementStart(18, \"label\", 7);\n        i0.ɵɵelement(19, \"input\", 8);\n        i0.ɵɵtext(20);\n        i0.ɵɵpipe(21, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"label\", 7);\n        i0.ɵɵelement(23, \"input\", 9);\n        i0.ɵɵtext(24);\n        i0.ɵɵpipe(25, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 1);\n        i0.ɵɵelementStart(27, \"label\");\n        i0.ɵɵtext(28);\n        i0.ɵɵpipe(29, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ng-select\", 10);\n        i0.ɵɵpipe(31, \"translate\");\n        i0.ɵɵelementStart(32, \"ng-option\", 11);\n        i0.ɵɵtext(33);\n        i0.ɵɵpipe(34, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"ng-option\", 11);\n        i0.ɵɵtext(36);\n        i0.ɵɵpipe(37, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 1);\n        i0.ɵɵelementStart(39, \"label\");\n        i0.ɵɵtext(40, \"Product Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"ng-select\", 12);\n        i0.ɵɵelementStart(42, \"ng-option\", 13);\n        i0.ɵɵtext(43);\n        i0.ɵɵpipe(44, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"ng-option\", 14);\n        i0.ɵɵtext(46);\n        i0.ɵɵpipe(47, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 15);\n        i0.ɵɵelementStart(49, \"a\", 16);\n        i0.ɵɵlistener(\"click\", function ProductFilterComponent_Template_a_click_49_listener() {\n          return ctx.resetFilter();\n        });\n        i0.ɵɵtext(50);\n        i0.ɵɵpipe(51, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"button\", 17);\n        i0.ɵɵtext(53);\n        i0.ɵɵpipe(54, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.filterForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 22, \"catalog.product.ProductName\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(6, 24, \"catalog.product.EnterSearchProductName\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 26, \"catalog.product.Sku\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(12, 28, \"catalog.product.SkuNumber\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 30, \"catalog.product.Price\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 32, \"catalog.product.Min-price\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 34, \"catalog.product.Max-price\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 36, \"catalog.product.Status\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(31, 38, \"catalog.product.Select Status\"));\n        i0.ɵɵproperty(\"searchable\", false)(\"clearable\", false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(34, 40, \"catalog.product.Active\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(37, 42, \"catalog.product.In-Active\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"searchable\", false)(\"clearable\", false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(44, 44, \"catalog.product.TodayDeals\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(47, 46, \"catalog.product.Feature\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(51, 48, \"catalog.product.Reset\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(54, 50, \"catalog.product.ApplyFilters\"), \" \");\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RadioControlValueAccessor, i4.NgSelectComponent, i4.ɵr],\n    pipes: [i5.TranslatePipe],\n    styles: [\".btn[_ngcontent-%COMP%]{background:#ed571f!important}.prod_filter[_ngcontent-%COMP%]{padding:1px 5px!important}\"]\n  });\n  return ProductFilterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}