{"ast":null,"code":"import { OrderStatusAddComponent } from '../add/add.component';\nimport { DeleteConfirmationDialogComponent } from '../../../../../shared/model-popup/delete-confirmation-dialog/delete-confirmation-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../../../../../../core/admin/settings/localizations/orderstatus/orderstatus.sandbox\";\nimport * as i4 from \"../../../../../../../../core/admin/settings/localizations/orderstatus/orderstatus-ApiClientService\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../../../../shared/components/directives/hide-if-unauthorized.directive\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"@ngx-translate/core\";\n\nfunction OrderStatusListComponent_ng_template_11_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.pageSize);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.pageSize);\n  }\n}\n\nfunction OrderStatusListComponent_ng_template_11_tr_34_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"Settings.Local.Orderstatus.Active\"), \" \");\n  }\n}\n\nfunction OrderStatusListComponent_ng_template_11_tr_34_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"Settings.Local.Orderstatus.InActive\"), \" \");\n  }\n}\n\nconst _c0 = function (a1) {\n  return {\n    \"color\": \"white\",\n    \"background\": a1\n  };\n};\n\nconst _c1 = function () {\n  return [\"edit-order-status\", \"delete-order-status\"];\n};\n\nfunction OrderStatusListComponent_ng_template_11_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 25);\n    i0.ɵɵelement(2, \"span\", 26);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtemplate(5, OrderStatusListComponent_ng_template_11_tr_34_div_5_Template, 3, 3, \"div\", 27);\n    i0.ɵɵtemplate(6, OrderStatusListComponent_ng_template_11_tr_34_div_6_Template, 3, 3, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 21);\n    i0.ɵɵelementStart(8, \"div\", 28);\n    i0.ɵɵelement(9, \"i\", 29);\n    i0.ɵɵelementStart(10, \"div\", 30);\n    i0.ɵɵelementStart(11, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function OrderStatusListComponent_ng_template_11_tr_34_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const Orderstatuslist_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.addOrderStatus(Orderstatuslist_r3, \"edit\");\n    });\n    i0.ɵɵelement(12, \"img\", 32);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function OrderStatusListComponent_ng_template_11_tr_34_Template_a_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const Orderstatuslist_r3 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.deleteStockStatus(Orderstatuslist_r3.orderStatusId);\n    });\n    i0.ɵɵelement(16, \"img\", 33);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const Orderstatuslist_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(13, _c0, Orderstatuslist_r3.colorCode));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", Orderstatuslist_r3.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", Orderstatuslist_r3.isActive === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", Orderstatuslist_r3.isActive === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"multipleHide\", i0.ɵɵpureFunction0(15, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"appHideIfUnauthorized\", \"edit-order-status\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 9, \"Settings.Local.Edit\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appHideIfUnauthorized\", \"delete-order-status\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 11, \"Settings.Local.Delete\"), \" \");\n  }\n}\n\nconst _c2 = function (a0) {\n  return [a0];\n};\n\nfunction OrderStatusListComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵelementStart(7, \"select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function OrderStatusListComponent_ng_template_11_Template_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.pageSize = $event;\n    })(\"change\", function OrderStatusListComponent_ng_template_11_Template_select_change_7_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.orderStatusList();\n    });\n    i0.ɵɵtemplate(8, OrderStatusListComponent_ng_template_11_option_8_Template, 2, 2, \"option\", 12);\n    i0.ɵɵelementStart(9, \"option\", 13);\n    i0.ɵɵtext(10, \"10\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 14);\n    i0.ɵɵtext(12, \"20\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"option\", 15);\n    i0.ɵɵtext(14, \"30\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function OrderStatusListComponent_ng_template_11_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.addOrderStatus(\"\", \"add\");\n    });\n    i0.ɵɵelement(16, \"img\", 17);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 18);\n    i0.ɵɵelementStart(20, \"div\", 19);\n    i0.ɵɵelementStart(21, \"table\", 20);\n    i0.ɵɵelementStart(22, \"thead\");\n    i0.ɵɵelementStart(23, \"tr\");\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\", 21);\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"tbody\");\n    i0.ɵɵtemplate(34, OrderStatusListComponent_ng_template_11_tr_34_Template, 19, 16, \"tr\", 22);\n    i0.ɵɵpipe(35, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"mat-paginator\", 23);\n    i0.ɵɵlistener(\"page\", function OrderStatusListComponent_ng_template_11_Template_mat_paginator_page_36_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.onPageChange($event);\n    });\n    i0.ɵɵpipe(37, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 13, \"Settings.Local.Resultsperpage\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.pageSize);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pageSize !== \"10\" && ctx_r0.pageSize !== \"20\" && ctx_r0.pageSize !== \"30\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"appHideIfUnauthorized\", \"create-order-status\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(18, 15, \"Settings.Local.Orderstatus.AddOrderStatus\"), \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(26, 17, \"Settings.Local.Orderstatus.OrderStatusName\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 19, \"Settings.Local.Orderstatus.Status\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"multipleHide\", i0.ɵɵpureFunction0(27, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(32, 21, \"Settings.Local.Orderstatus.Action\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(35, 23, ctx_r0.Sandbox.getOrderstatuslist$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"length\", i0.ɵɵpipeBind1(37, 25, ctx_r0.Sandbox.getOrderstatuspaginationcount$))(\"pageSize\", ctx_r0.pageSize)(\"pageSizeOptions\", i0.ɵɵpureFunction1(28, _c2, ctx_r0.pageSize));\n  }\n}\n\nexport let OrderStatusListComponent = /*#__PURE__*/(() => {\n  class OrderStatusListComponent {\n    constructor(modal, router, Sandbox, service) {\n      this.modal = modal;\n      this.router = router;\n      this.Sandbox = Sandbox;\n      this.service = service;\n      this.type = 'edit';\n      this.orderStatusDetails = {};\n      this.keyword = '';\n      this.pageSize = '5';\n      this.pagenationCount = true;\n      this.regSubscribeEvents();\n    }\n\n    ngOnInit() {\n      this.pageSize = sessionStorage.getItem('itemsPerPage') ? sessionStorage.getItem('itemsPerPage') : this.pageSize;\n      this.orderStatusList(this.offset, this.keyword);\n      this.Sandbox.OrderstatusAddLoaded$.subscribe(data => {\n        if (data === true) {\n          this.orderStatusList(this.offset, this.keyword);\n        }\n      });\n      this.Sandbox.OrderstatusUpdateLoaded$.subscribe(data => {\n        if (data) {\n          this.orderStatusList(this.offset, this.keyword);\n        }\n      });\n    }\n    /**\n     * Handles form 'list' event. Calls sandbox OrderStatus List function .\n     *\n     * @param params storing entire value\n     */\n\n\n    orderStatusList(offset = 0, keyword) {\n      const params = {};\n      params.limit = this.pageSize;\n      params.offset = offset;\n      params.keyword = this.keyword;\n      params.status = '';\n      this.Sandbox.orderStatusList(params);\n\n      if (this.pagenationCount) {\n        params.count = true;\n        this.Sandbox.orderStatusListCount(params);\n      }\n    }\n\n    editOrderStatusList(orderstatusinfo) {\n      this.orderStatusDetails = orderstatusinfo;\n      this.service.statusordersetdata(this.orderStatusDetails);\n      this.router.navigate(['/settings/local/order-status/edit', this.orderStatusDetails.orderStatusId]);\n    }\n\n    addOrderStatus(data, type) {\n      const modalRef = this.modal.open(OrderStatusAddComponent, {\n        windowClass: 'add-language',\n        keyboard: false,\n        backdrop: 'static'\n      });\n\n      if (type === 'edit') {\n        this.service.statusordersetdata(data);\n        modalRef.componentInstance.edit = this.type;\n        modalRef.componentInstance.id = data.countryId;\n      } else {\n        this.service.statusordersetdata('');\n      }\n    } // Pagination Count\n\n\n    onPageChange(event) {\n      this.currentPage = event.offset;\n      this.pageSize = event.pageSize;\n      this.index = event.pageIndex;\n      const offset = event.pageSize * event.pageIndex;\n      this.orderStatusList(offset, this.pageSize);\n    } // Delete OrderStatus Using OrderStatusId\n\n\n    deleteStockStatus(orderStatusId) {\n      const modelRef = this.modal.open(DeleteConfirmationDialogComponent, {\n        size: 'sm',\n        windowClass: 'delete-confirm',\n        backdrop: 'static',\n        backdropClass: 'createcr'\n      });\n      modelRef.componentInstance.key = '';\n      modelRef.componentInstance.id = '';\n      modelRef.result.then(result => {\n        if (result === 'deleted') {\n          this.Sandbox.orderStatusDelete({\n            orderStatusId: orderStatusId\n          });\n          this.regSubscribeEvents();\n        }\n      });\n    } // Delete After Subscribe the result\n\n\n    regSubscribeEvents() {\n      this.Sandbox.getorderdelete$.subscribe(_delete => {\n        if (_delete && _delete.status === 1) {\n          this.orderStatusList(this.offset, this.keyword);\n        }\n      });\n    }\n\n  }\n\n  OrderStatusListComponent.ɵfac = function OrderStatusListComponent_Factory(t) {\n    return new (t || OrderStatusListComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.OrderstatusSandbox), i0.ɵɵdirectiveInject(i4.OrderstatusApiClientService));\n  };\n\n  OrderStatusListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderStatusListComponent,\n    selectors: [[\"app-settings-orderstatus-list\"]],\n    decls: 12,\n    vars: 0,\n    consts: [[1, \"set-lay-notes\", \"flex\", 2, \"padding\", \"0 10px 10px 10px\"], [1, \"setup-wrapper\", \"set-loc-wrapper\"], [1, \"setup-container\", \"localization-container\"], [1, \"card\", \"ap-general\", \"ap-info\"], [1, \"flex\", \"ap-body\"], [2, \"width\", \"100%\"], [\"ngbTabContent\", \"\", \"style\", \"display: flex !important;\"], [1, \"localize-header\", \"flex\"], [1, \"loc-hdr-lft\"], [1, \"input-group\"], [1, \"select\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngIf\"], [\"value\", \"10\"], [\"value\", \"20\"], [\"value\", \"30\"], [1, \"set-ad-btn\", 2, \"width\", \"164px !important\", 3, \"appHideIfUnauthorized\", \"click\"], [\"src\", \"assets/img/add-white-ico.png\", \"alt\", \"add\"], [1, \"setup-right\"], [1, \"table-responsive\"], [1, \"table\"], [1, \"text-center\", 3, \"appHideIfUnauthorized\", \"multipleHide\"], [4, \"ngFor\", \"ngForOf\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\"], [3, \"value\"], [1, \"ord-stat-td\"], [2, \"padding\", \"5px\", \"background\", \"#00b259\", 3, \"ngStyle\"], [4, \"ngIf\"], [\"ngbDropdown\", \"\", 1, \"dropdown\"], [\"ngbDropdownToggle\", \"\", 1, \"fa\", \"fa-ellipsis-v\", \"cursor\", 2, \"padding\", \"0 15px\"], [\"ngbDropdownMenu\", \"\", 1, \"dropdown-menu\"], [\"ngbDropdownItem\", \"\", \"href\", \"javascript:void(0)\", 1, \"dropdown-item\", 3, \"appHideIfUnauthorized\", \"click\"], [\"src\", \"assets/img/edit.png\", \"alt\", \"edit\"], [\"src\", \"assets/img/delete-new.png\", \"alt\", \"delete\"]],\n    template: function OrderStatusListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h4\");\n        i0.ɵɵtext(2, \"Note :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"In this section, the admin can create and maintain the master list of different order status \\u2013 say for example, order confirmed, out for delivery and so on. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1);\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"ngb-tabset\", 5);\n        i0.ɵɵelementStart(10, \"ngb-tab\");\n        i0.ɵɵtemplate(11, OrderStatusListComponent_ng_template_11_Template, 38, 30, \"ng-template\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i1.NgbTabset, i1.NgbTab, i1.NgbTabContent, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i7.MyHideIfUnauthorizedDirective, i6.NgForOf, i8.MatPaginator, i6.NgStyle, i1.NgbDropdown, i1.NgbDropdownToggle, i1.NgbDropdownMenu, i1.NgbDropdownItem],\n    pipes: [i9.TranslatePipe, i6.AsyncPipe],\n    styles: [\".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}\"]\n  });\n  return OrderStatusListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}