"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[493],{59493:function(e,t,n){n.r(t),n.d(t,{PersonalizeProductModule:function(){return O}});var r=n(38583),o=n(3679),i=n(6050),a=n(29790),s=n(39717),c=n(3675),d=n(70853),p=n(37716),l=n(25635);class u{constructor(e){this.categoryProductCount=e.categoryProductCount||0,this.itemsPerPage=e.itemPage||0}}var m=n(80933),h=n(38930);const g=e=>e.personalizeProduct,f=(0,m.P1)(g,h.Mg),P=(0,m.P1)(g,h.uw);var v=n(25624);let b=(()=>{class e{constructor(e,t){this.appState=e,this.router=t,this.getNewPersonalizeProduct$=this.appState.select(f),this.getPersonalizeProduct$=this.appState.select(P)}createPersonalizeProduct(e){this.appState.dispatch(new l.v8(new u(e)))}getPersonalizeProduct(){this.appState.dispatch(new l.Ee)}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(v.yh),p.\u0275\u0275inject(d.F0))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var S=n(7279),x=n(89113);const y=function(){return["/settings"]},C=[{path:"",component:(()=>{class e{constructor(e,t,n){this.fb=e,this.route=t,this.sandbox=n,this.submitted=!1,this.subscriptions=[]}get f(){return this.perProductForm.controls}ngOnInit(){this.initForm(),this.setDefaultValues(),this.getPersonalizeProduct(),this.subscribe()}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}setDefaultValues(){this.perProductForm.patchValue({productCount:"Yes",tc:!0})}initForm(){this.perProductForm=this.fb.group({itemPage:[null],productCount:[null]})}onSubmit(){if(this.submitted=!0,this.perProductForm.invalid)return;const e={};e.itemPage=this.perProductForm.value.itemPage,e.categoryProductCount="Yes"===this.perProductForm.value.productCount?1:0,this.sandbox.createPersonalizeProduct(e)}getPersonalizeProduct(){this.sandbox.getPersonalizeProduct()}subscribe(){this.subscriptions.push(this.sandbox.getPersonalizeProduct$.subscribe(e=>{e&&e[0]&&(this.perProductForm.controls.itemPage.setValue(e[0].itemsPerPage),1===e[0].categoryProductCount?this.perProductForm.patchValue({productCount:"Yes",tc:!0}):0===e[0].categoryProductCount&&this.perProductForm.patchValue({productCount:"No",tc:!0}))}))}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275directiveInject(o.FormBuilder),p.\u0275\u0275directiveInject(d.gz),p.\u0275\u0275directiveInject(b))},e.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-settings-countries"]],decls:41,vars:22,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","setup-personalize"],[1,"setup-container","flex"],[1,"setup-left"],[1,"setup-right"],[1,"form-horizontal","m-t-20",2,"margin","0",3,"formGroup"],[1,"sup-rht-section"],[1,"suprs-form"],[1,"suprs-form-row","flex"],[1,"supvalidation"],[1,"suprs-form-col"],["type","text","formControlName","itemPage",1,"form-control",3,"appDisableIfUnauthorized"],[1,"mm-row","flex"],[1,"toggle"],["id","cb1","type","checkbox",1,"tgl","tgl-light",3,"checked"],["for","cb1",1,"tgl-btn"],[1,"flex","srbtn"],[1,"cancel",3,"routerLink","appHideIfUnauthorized"],[3,"appHideIfUnauthorized","click"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"h4"),p.\u0275\u0275text(2,"Note :"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"p"),p.\u0275\u0275text(4,"The admin can configure number of products per page in this section. "),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"div",1),p.\u0275\u0275elementStart(6,"div",2),p.\u0275\u0275elementStart(7,"div",3),p.\u0275\u0275elementStart(8,"h3"),p.\u0275\u0275text(9),p.\u0275\u0275pipe(10,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"p"),p.\u0275\u0275text(12,"The admin can set up the default number for display of items per page and this can be based on the number or products in each category also. "),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(13,"div",4),p.\u0275\u0275elementStart(14,"form",5),p.\u0275\u0275elementStart(15,"div",6),p.\u0275\u0275elementStart(16,"div",7),p.\u0275\u0275elementStart(17,"div",8),p.\u0275\u0275elementStart(18,"label"),p.\u0275\u0275text(19),p.\u0275\u0275pipe(20,"translate"),p.\u0275\u0275elementStart(21,"sup",9),p.\u0275\u0275text(22,"*"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"div",10),p.\u0275\u0275element(24,"input",11),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(25,"div",7),p.\u0275\u0275elementStart(26,"div",8),p.\u0275\u0275elementStart(27,"div",12),p.\u0275\u0275elementStart(28,"label"),p.\u0275\u0275text(29),p.\u0275\u0275pipe(30,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(31,"div",13),p.\u0275\u0275element(32,"input",14),p.\u0275\u0275element(33,"label",15),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(34,"div",16),p.\u0275\u0275elementStart(35,"button",17),p.\u0275\u0275text(36),p.\u0275\u0275pipe(37,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(38,"button",18),p.\u0275\u0275listener("click",function(){return t.onSubmit()}),p.\u0275\u0275text(39),p.\u0275\u0275pipe(40,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(9),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(10,11,"Settings.personalize.product.WhatProductdetailsarerequired")),p.\u0275\u0275advance(5),p.\u0275\u0275property("formGroup",t.perProductForm),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(20,13,"Settings.personalize.product.DefaultItemsPerPage")),p.\u0275\u0275advance(5),p.\u0275\u0275property("appDisableIfUnauthorized","edit-personalize-product"),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(30,15,"Settings.personalize.product.CategoryProductCount")),p.\u0275\u0275advance(3),p.\u0275\u0275property("checked",!0),p.\u0275\u0275advance(3),p.\u0275\u0275property("routerLink",p.\u0275\u0275pureFunction0(21,y))("appHideIfUnauthorized","edit-personalize-product"),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(37,17,"Settings.Local.Country.Cancel")),p.\u0275\u0275advance(2),p.\u0275\u0275property("appHideIfUnauthorized","edit-personalize-product"),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(40,19,"Settings.Local.Save")))},directives:[o.\u0275NgNoValidate,o.NgControlStatusGroup,o.FormGroupDirective,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,S.f,d.rH,x.E],pipes:[a.X$],styles:["mat-radio-button[_ngcontent-%COMP%]{padding:1px 3px}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({imports:[[d.Bz.forChild(C)],d.Bz]}),e})();var z=n(9900);let I=(()=>{class e extends z.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}createProduct(e){return this.http.post(this.url+"/settings/create-settings",e)}getProduct(){return this.http.get(this.url+"/settings/get-settings")}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=p.\u0275\u0275getInheritedFactory(e)))(n||e)}}(),e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var w=n(64762),F=n(41964),N=n(5207),k=n(37540),j=n(99922),D=n(75894);class M{constructor(e,t){this.action$=e,this.service=t,this.doAddseo$=this.action$.pipe((0,i.l4)(l.MF.DO_NEW_PRODUCT_SETTINGS),(0,N.U)(e=>e.payload),(0,k.w)(e=>this.service.createProduct(e).pipe((0,j.b)(e=>{sessionStorage.setItem("itemsPerPage",e.data.itemsPerPage)}),(0,k.w)(e=>[new l.EH(e)]),(0,D.K)(e=>(0,F.of)(new l.QN(e)))))),this.dogetseosetting$=this.action$.pipe((0,i.l4)(l.MF.DO_PRODUCT_SETTINGS),(0,N.U)(e=>e.payload),(0,k.w)(()=>this.service.getProduct().pipe((0,k.w)(e=>[new l.KP(e)]),(0,D.K)(e=>(0,F.of)(new l.IO(e))))))}}M.\u0275fac=function(e){return new(e||M)(p.\u0275\u0275inject(i.eX),p.\u0275\u0275inject(I))},M.\u0275prov=p.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac}),(0,w.gn)([(0,i.Qm)()],M.prototype,"doAddseo$",void 0),(0,w.gn)([(0,i.Qm)()],M.prototype,"dogetseosetting$",void 0);var U=n(20044),$=n(91841),B=n(12476);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({providers:[b,I],imports:[[r.CommonModule,c.o,o.FormsModule,o.ReactiveFormsModule,s.q,E,B.K,a.aw.forChild({loader:{provide:a.Zw,useFactory:U.g,deps:[$.eN]}}),i.sQ.forFeature([M])]]}),e})()}}]);