"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[82],{23082:function(e,t,n){n.r(t),n.d(t,{EmailTemplateModule:function(){return Ce}});var a=n(38583),i=n(3675),l=n(3679),r=n(6050),s=n(9900),p=n(37716);let o=(()=>{class e extends s.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}setemailtemplistdata(e){this.emailtemplistdata=e}getemailtemplistdata(){return this.emailtemplistdata}addEmailtemp(e){return this.http.post(this.url+"/email-template/add-email-template",e)}updateEmailTemp(e){return this.http.put(this.url+"/email-template/update-email-template/"+e.Id,e)}emailtemplist(e){let t={};return t=e,this.http.get(this.url+"/email-template/email-templatelist",{params:t})}emailtempPagiantion(e){let t={};return t=e,this.http.get(this.url+"/email-template/email-templatelist",{params:t})}deleteEmailtemp(e,t){return this.http.delete(this.url+"/email-template/delete-email-template/"+t,e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=p.\u0275\u0275getInheritedFactory(e)))(n||e)}}(),e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var m=n(83895),d=n(80933),c=n(15117);const u=e=>e.emailtemp,h=(0,d.P1)(u,c.bt),g=(0,d.P1)(u,c.p3),f=(0,d.P1)(u,c.Au),v=(0,d.P1)(u,c.cy),S=(0,d.P1)(u,c.vv),E=(0,d.P1)(u,c.ET),x=(0,d.P1)(u,c.KP),b=(0,d.P1)(u,c.KQ),I=(0,d.P1)(u,c.mm),T=(0,d.P1)(u,c.Ij),w=(0,d.P1)(u,c.BO),C=(0,d.P1)(u,c.x3),y=(0,d.P1)(u,c.Td),L=(0,d.P1)(u,c.fP),P=(0,d.P1)(u,c.Pz),F=(0,d.P1)(u,c.nO),A=(0,d.P1)(u,c.OI),$=(0,d.P1)(u,c.Ae),j=(0,d.P1)(u,c.qZ),M=(0,d.P1)(u,c.il);class k{constructor(e){this.title=e.title||"",this.subject=e.subject||"",this.content=e.content||"",this.status=e.status||0,e&&e.id&&(this.Id=e.id||0)}}class z{constructor(e){this.limit=e.limit||0,this.offset=e.offset||0,this.keyword=e.keyword||"",this.count=e.count||0}}var O=n(25624),_=n(70853),D=n(59798);let N=(()=>{class e{constructor(e,t,n){this.appState=e,this.router=t,this.toastr=n,this.emailTempList$=this.appState.select(h),this.emailTempPagination$=this.appState.select(g),this.getAddEmailTemp$=this.appState.select(f),this.updateEmailTemp$=this.appState.select(v),this.emailTempDelete$=this.appState.select(S),this.emailTempListLoading$=this.appState.select(E),this.emailTempListLoaded$=this.appState.select(x),this.emailTempListFailed$=this.appState.select(b),this.emailTempDeleteLoading$=this.appState.select(P),this.emailTempDeleteLoaded$=this.appState.select(F),this.emailTempDeleteFailed$=this.appState.select(A),this.emailTempCountLoading$=this.appState.select(I),this.emailTempCountLoaded$=this.appState.select(T),this.emailTempCountFailed$=this.appState.select(w),this.emailTempAddLoading$=this.appState.select(C),this.emailTempAddLoaded$=this.appState.select(y),this.emailTempAddFailed$=this.appState.select(L),this.emailTempUpdateLoading$=this.appState.select($),this.emailTempUpdateLoaded$=this.appState.select(j),this.emailTempUpdateFailed$=this.appState.select(M),this.subscriptions=[]}addEmailTemplate(e){this.appState.dispatch(new m.x$(new k(e)))}updateEmailTemplate(e){this.appState.dispatch(new m.QY(new k(e)))}getEmailTemplateList(e){this.appState.dispatch(new m.xN(new z(e)))}emailTemplateDelete(e){this.appState.dispatch(new m.UO(e))}emailTemplatePagination(e){this.appState.dispatch(new m.lt(new z(e)))}subscribe(){this.subscriptions.push(this.getAddEmailTemp$.subscribe(e=>{e&&e.message&&this.router.navigate(["/settings/local/emailtemp"])})),this.subscriptions.push(this.updateEmailTemp$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/settings/local/emailtemp"])}))}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275inject(O.yh),p.\u0275\u0275inject(_.F0),p.\u0275\u0275inject(D.eP))},e.\u0275prov=p.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var B=n(64762),V=n(41964),U=n(5207),q=n(37540),H=n(75894);class K{constructor(e,t){this.action$=e,this.service=t,this.doAddEmailTemp$=this.action$.pipe((0,r.l4)(m.MF.DO_NEW_EMAIL_TEMP_ACTION),(0,U.U)(e=>e.payload),(0,q.w)(e=>this.service.addEmailtemp(e).pipe((0,q.w)(e=>[new m.f_(e)]),(0,H.K)(e=>(0,V.of)(new m.b1(e)))))),this.doUpdateEmailTemp$=this.action$.pipe((0,r.l4)(m.MF.DO_UPDATE_EMAIL_TEMP_ACTION),(0,U.U)(e=>e.payload),(0,q.w)(e=>this.service.updateEmailTemp(e).pipe((0,q.w)(e=>[new m.Fx(e)]),(0,H.K)(e=>(0,V.of)(new m.$j(e)))))),this.doemailtemplists$=this.action$.pipe((0,r.l4)(m.MF.GET_EMAIL_TEMP_LIST_ACTION),(0,U.U)(e=>e.payload),(0,q.w)(e=>this.service.emailtemplist(e).pipe((0,q.w)(e=>[new m.$S(e)]),(0,H.K)(e=>(0,V.of)(new m.vD(e)))))),this.doemailtemppagination$=this.action$.pipe((0,r.l4)(m.MF.GET_EMAIL_TEMP_COUNT_ACTION),(0,U.U)(e=>e.payload),(0,q.w)(e=>this.service.emailtempPagiantion(e).pipe((0,q.w)(e=>[new m.fO(e)]),(0,H.K)(e=>(0,V.of)(new m.iF(e)))))),this.doEmailtempDelete$=this.action$.pipe((0,r.l4)(m.MF.DO_EMAIL_TEMP_DELETE),(0,U.U)(e=>e.payload),(0,q.w)(e=>this.service.deleteEmailtemp(e,e.emailTemplateId).pipe((0,q.w)(e=>[new m.KY(e)]),(0,H.K)(e=>(0,V.of)(new m.kr(e))))))}}K.\u0275fac=function(e){return new(e||K)(p.\u0275\u0275inject(r.eX),p.\u0275\u0275inject(o))},K.\u0275prov=p.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),(0,B.gn)([(0,r.Qm)()],K.prototype,"doAddEmailTemp$",void 0),(0,B.gn)([(0,r.Qm)()],K.prototype,"doUpdateEmailTemp$",void 0),(0,B.gn)([(0,r.Qm)()],K.prototype,"doemailtemplists$",void 0),(0,B.gn)([(0,r.Qm)()],K.prototype,"doemailtemppagination$",void 0),(0,B.gn)([(0,r.Qm)()],K.prototype,"doEmailtempDelete$",void 0);var Q=n(72782),G=n(59070),Y=n(99233),R=n(86640),W=n(29790);function X(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Titleisrequired")))}function Z(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",20),p.\u0275\u0275template(1,X,3,3,"div",21),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.f.title.errors.required)}}function J(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Subjectisrequired")))}function ee(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",20),p.\u0275\u0275template(1,J,3,3,"div",21),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.f.subject.errors.required)}}function te(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Contentisrequired")))}function ne(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",20),p.\u0275\u0275template(1,te,3,3,"div",21),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.f.content.errors.required)}}function ae(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Statusisrequired")))}function ie(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",20),p.\u0275\u0275template(1,ae,3,3,"div",21),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",e.f.status.errors.required)}}const le=function(e){return{"is-invalid":e}},re=function(e){return{"error-fields":e}};let se=(()=>{class e{constructor(e,t,n,a,i,l,r){this.modalService=e,this.fb=t,this.route=n,this.sandbox=a,this.router=i,this.service=l,this.ckeconfiqservice=r,this.editEmailTemplateInfo=[],this.submitted=!1,this.config=this.ckeconfiqservice.getckeconfig()}get f(){return this.emailTemplateForm.controls}ngOnInit(){this.initForm(),this.editEmailTempId=this.route.snapshot.paramMap.get("id"),this.setDefaultValues(),this.editEmailtempList()}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}setDefaultValues(){this.emailTemplateForm.patchValue({postalcode:"Yes",tc:!0})}initForm(){this.emailTemplateForm=this.fb.group({title:[null,[l.Validators.required]],subject:[null,[l.Validators.required]],content:[null,[l.Validators.required]],status:[null,[l.Validators.required]]})}close(){this.modalService.close("close")}cancel(){this.router.navigate(["/settings/local/emailtemp"])}onSubmit(e){if(this.submitted=!0,this.emailTemplateForm.invalid)return;const t={};t.title=this.emailTemplateForm.value.title,t.subject=this.emailTemplateForm.value.subject,t.content=this.emailTemplateForm.value.content,t.status=this.emailTemplateForm.value.status,this.editEmailTemplateInfo&&this.editEmailTemplateInfo[0]?(t.id=this.editEmailTemplateInfo[0].emailTemplateId,this.sandbox.updateEmailTemplate(t)):this.sandbox.addEmailTemplate(t),this.modalService.close("close")}editEmailtempList(){this.editEmailTemplateInfo.push(this.service.getemailtemplistdata()),null!==this.editEmailTemplateInfo[0]?this.editEmailTemplateInfo[0]&&this.editEmailTemplateInfo[0].title&&(this.updateTitle=1,this.emailTemplateForm.controls.title.setValue(this.editEmailTemplateInfo[0].title),this.emailTemplateForm.controls.subject.setValue(this.editEmailTemplateInfo[0].subject),this.emailTemplateForm.controls.content.setValue(this.htmlTagConversion(this.editEmailTemplateInfo[0].content)),this.emailTemplateForm.controls.status.setValue(this.editEmailTemplateInfo[0].isActive)):this.emailTemplateForm=null}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275directiveInject(Q.Kz),p.\u0275\u0275directiveInject(l.FormBuilder),p.\u0275\u0275directiveInject(_.gz),p.\u0275\u0275directiveInject(N),p.\u0275\u0275directiveInject(_.F0),p.\u0275\u0275directiveInject(o),p.\u0275\u0275directiveInject(G.U))},e.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-spurt-addemail"]],decls:60,vars:48,consts:[[1,"flex","setting2-inner-header"],[1,"close"],[1,"bton",3,"click"],[1,"settings-right-wrapper","addnewuser"],[1,"new-user"],[1,"form-horizontal","m-t-20",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","subject",1,"form-control",3,"ngClass"],[1,"col-lg-12"],["formControlName","content",3,"config","ngClass"],[1,"control-label"],["formControlName","status","data-placeholder","Choose Role",3,"placeholder","searchable","ngClass"],[3,"value"],[1,"col-12"],[1,"flex","user-btn"],["type","submit",1,"btn","btn-add","set-ad-btn"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"h3"),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"div",1),p.\u0275\u0275elementStart(5,"button",2),p.\u0275\u0275listener("click",function(){return t.close()}),p.\u0275\u0275text(6,"x"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(7,"div",3),p.\u0275\u0275elementStart(8,"div",4),p.\u0275\u0275elementStart(9,"form",5),p.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit(t.emailTemplateForm.value)}),p.\u0275\u0275elementStart(10,"div",6),p.\u0275\u0275elementStart(11,"div",7),p.\u0275\u0275elementStart(12,"div",8),p.\u0275\u0275elementStart(13,"label"),p.\u0275\u0275text(14),p.\u0275\u0275pipe(15,"translate"),p.\u0275\u0275elementStart(16,"sup"),p.\u0275\u0275text(17,"*"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(18,"input",9),p.\u0275\u0275template(19,Z,2,1,"div",10),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(20,"div",7),p.\u0275\u0275elementStart(21,"div",8),p.\u0275\u0275elementStart(22,"label"),p.\u0275\u0275text(23),p.\u0275\u0275pipe(24,"translate"),p.\u0275\u0275elementStart(25,"sup"),p.\u0275\u0275text(26,"*"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(27,"input",11),p.\u0275\u0275template(28,ee,2,1,"div",10),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(29,"div",12),p.\u0275\u0275elementStart(30,"div",8),p.\u0275\u0275elementStart(31,"label"),p.\u0275\u0275text(32),p.\u0275\u0275pipe(33,"translate"),p.\u0275\u0275elementStart(34,"sup"),p.\u0275\u0275text(35,"*"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(36,"ckeditor",13),p.\u0275\u0275template(37,ne,2,1,"div",10),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(38,"br"),p.\u0275\u0275elementStart(39,"div",7),p.\u0275\u0275elementStart(40,"div",8),p.\u0275\u0275elementStart(41,"label",14),p.\u0275\u0275text(42),p.\u0275\u0275pipe(43,"translate"),p.\u0275\u0275elementStart(44,"sup"),p.\u0275\u0275text(45,"*"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(46,"ng-select",15),p.\u0275\u0275pipe(47,"translate"),p.\u0275\u0275elementStart(48,"ng-option",16),p.\u0275\u0275text(49),p.\u0275\u0275pipe(50,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(51,"ng-option",16),p.\u0275\u0275text(52),p.\u0275\u0275pipe(53,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(54,ie,2,1,"div",10),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(55,"div",17),p.\u0275\u0275elementStart(56,"div",18),p.\u0275\u0275elementStart(57,"button",19),p.\u0275\u0275text(58),p.\u0275\u0275pipe(59,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(t.updateTitle?"Update Email Template":p.\u0275\u0275pipeBind1(3,22,"Add Email Template")),p.\u0275\u0275advance(7),p.\u0275\u0275property("formGroup",t.emailTemplateForm),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(15,24,"Settings.Local.Emailtemplate.Title")),p.\u0275\u0275advance(4),p.\u0275\u0275property("ngClass",p.\u0275\u0275pureFunction1(40,le,t.submitted&&t.f.title.errors)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",t.submitted&&t.f.title.errors),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(24,26,"Settings.Local.Emailtemplate.Subject")),p.\u0275\u0275advance(4),p.\u0275\u0275property("ngClass",p.\u0275\u0275pureFunction1(42,le,t.submitted&&t.f.subject.errors)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",t.submitted&&t.f.subject.errors),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(33,28,"Settings.Local.Emailtemplate.Content")),p.\u0275\u0275advance(4),p.\u0275\u0275property("config",t.config)("ngClass",p.\u0275\u0275pureFunction1(44,le,t.submitted&&t.f.content.errors)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",t.submitted&&t.f.content.errors),p.\u0275\u0275advance(5),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind1(43,30,"Settings.Local.Emailtemplate.Status")," "),p.\u0275\u0275advance(4),p.\u0275\u0275propertyInterpolate("placeholder",p.\u0275\u0275pipeBind1(47,32,"Settings.Local.Language.SelectStatus")),p.\u0275\u0275property("searchable",!1)("ngClass",p.\u0275\u0275pureFunction1(46,re,t.submitted&&t.f.status.errors)),p.\u0275\u0275advance(2),p.\u0275\u0275property("value",1),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(50,34,"Settings.Local.Emailtemplate.Enabled")),p.\u0275\u0275advance(2),p.\u0275\u0275property("value",0),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(53,36,"Settings.Local.Emailtemplate.Disabled")),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",t.submitted&&t.f.status.errors),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(59,38,"Settings.Local.Save")))},directives:[l.\u0275NgNoValidate,l.NgControlStatusGroup,l.FormGroupDirective,l.DefaultValueAccessor,l.NgControlStatus,l.FormControlName,a.NgClass,a.NgIf,Y.ue,R.w9,R.xv],pipes:[W.X$],styles:[".setting2-inner-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:15px;margin-left:0!important;padding:8px}.settings-right-wrapper[_ngcontent-%COMP%]{margin-left:0!important}.settings-right-wrapper.addnewuser[_ngcontent-%COMP%]{padding:0!important;z-index:0;position:relative}.bton[_ngcontent-%COMP%]{background:none;border:none;outline:none}",".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}"]}),e})();var pe=n(9819),oe=n(89113),me=n(99692);function de(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"option",25),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&e){const e=p.\u0275\u0275nextContext(2);p.\u0275\u0275propertyInterpolate("value",e.pageSize),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(e.pageSize)}}function ce(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Enabled")," "))}function ue(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div"),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"translate"),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Disabled")," "))}const he=function(){return["edit-email-template","delete-email-template"]};function ge(e,t){if(1&e){const e=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"tr"),p.\u0275\u0275elementStart(1,"td",26),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"td"),p.\u0275\u0275text(4),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(5,"td",27),p.\u0275\u0275elementStart(6,"td"),p.\u0275\u0275template(7,ce,3,3,"div",28),p.\u0275\u0275template(8,ue,3,3,"div",28),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(9,"td",29),p.\u0275\u0275elementStart(10,"div",30),p.\u0275\u0275element(11,"i",31),p.\u0275\u0275elementStart(12,"div",32),p.\u0275\u0275elementStart(13,"a",33),p.\u0275\u0275listener("click",function(){const t=p.\u0275\u0275restoreView(e).$implicit;return p.\u0275\u0275nextContext(2).editEmailtemp(t)}),p.\u0275\u0275element(14,"img",34),p.\u0275\u0275text(15),p.\u0275\u0275pipe(16,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(17,"a",33),p.\u0275\u0275listener("click",function(){const t=p.\u0275\u0275restoreView(e).$implicit;return p.\u0275\u0275nextContext(2).deleteEmailtemp(t.emailTemplateId)}),p.\u0275\u0275element(18,"img",35),p.\u0275\u0275text(19),p.\u0275\u0275pipe(20,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(e.title),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(e.subject),p.\u0275\u0275advance(1),p.\u0275\u0275property("innerHtml",e.content,p.\u0275\u0275sanitizeHtml),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",1==e.isActive),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",0==e.isActive),p.\u0275\u0275advance(1),p.\u0275\u0275property("multipleHide",p.\u0275\u0275pureFunction0(14,he)),p.\u0275\u0275advance(4),p.\u0275\u0275property("appHideIfUnauthorized","edit-email-template"),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(16,10,"Settings.Local.Edit")," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("appHideIfUnauthorized","delete-email-template"),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(20,12,"Settings.Local.Delete")," ")}}function fe(e,t){if(1&e){const e=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",7),p.\u0275\u0275elementStart(1,"div",8),p.\u0275\u0275elementStart(2,"div",9),p.\u0275\u0275elementStart(3,"p"),p.\u0275\u0275text(4),p.\u0275\u0275pipe(5,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(6,"div",10),p.\u0275\u0275elementStart(7,"select",11),p.\u0275\u0275listener("ngModelChange",function(t){return p.\u0275\u0275restoreView(e),p.\u0275\u0275nextContext().pageSize=t})("change",function(){return p.\u0275\u0275restoreView(e),p.\u0275\u0275nextContext().getemailtempList()}),p.\u0275\u0275template(8,de,2,2,"option",12),p.\u0275\u0275elementStart(9,"option",13),p.\u0275\u0275text(10,"10"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"option",14),p.\u0275\u0275text(12,"20"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(13,"option",15),p.\u0275\u0275text(14,"30"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(15,"div",16),p.\u0275\u0275elementStart(16,"div",17),p.\u0275\u0275elementStart(17,"table",18),p.\u0275\u0275elementStart(18,"thead"),p.\u0275\u0275elementStart(19,"tr"),p.\u0275\u0275elementStart(20,"th",19),p.\u0275\u0275text(21),p.\u0275\u0275pipe(22,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"th",20),p.\u0275\u0275text(24),p.\u0275\u0275pipe(25,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(26,"th",21),p.\u0275\u0275text(27),p.\u0275\u0275pipe(28,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(29,"th",20),p.\u0275\u0275text(30),p.\u0275\u0275pipe(31,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(32,"th",22),p.\u0275\u0275text(33),p.\u0275\u0275pipe(34,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(35,"tbody"),p.\u0275\u0275template(36,ge,21,15,"tr",23),p.\u0275\u0275pipe(37,"async"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(38,"mat-paginator",24),p.\u0275\u0275listener("page",function(t){return p.\u0275\u0275restoreView(e),p.\u0275\u0275nextContext().onPageChange(t)}),p.\u0275\u0275pipe(39,"async"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()}if(2&e){const e=p.\u0275\u0275nextContext();p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(5,12,"Settings.Local.Resultsperpage")),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngModel",e.pageSize),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf","10"!==e.pageSize&&"20"!==e.pageSize&&"30"!==e.pageSize),p.\u0275\u0275advance(13),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(22,14,"Settings.Local.Emailtemplate.Title"),""),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind1(25,16,"Settings.Local.Emailtemplate.Subject")," "),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind1(28,18,"Settings.Local.Emailtemplate.Content")," "),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1("",p.\u0275\u0275pipeBind1(31,20,"Settings.Local.Emailtemplate.Status")," "),p.\u0275\u0275advance(2),p.\u0275\u0275property("multipleHide",p.\u0275\u0275pureFunction0(28,he)),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(34,22,"Settings.Local.Emailtemplate.Action"),""),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngForOf",p.\u0275\u0275pipeBind1(37,24,e.sandbox.emailTempList$)),p.\u0275\u0275advance(2),p.\u0275\u0275property("length",p.\u0275\u0275pipeBind1(39,26,e.sandbox.emailTempPagination$))("pageSize",e.pageSize)}}let ve=(()=>{class e{constructor(e,t,n,a){this.modal=e,this.router=t,this.sandbox=n,this.service=a,this.pageSize=10,this.index=0,this.keyword="",this.paginationCount=!0,this.regSubscribeEvents()}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.getemailtempList(this.offset,this.pageSize),this.sandbox.emailTempUpdateLoaded$.subscribe(e=>{e&&this.getemailtempList(this.offset,this.pageSize)})}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}getemailtempList(e=0,t){const n={};n.limit=t,n.offset=e,n.keyword=this.keyword,this.sandbox.getEmailTemplateList(n),this.paginationCount&&(n.count="true",this.sandbox.emailTemplatePagination(n))}addNewEmailTemp(){this.service.setemailtemplistdata(""),this.router.navigate(["/settings/local/emailtemp/add"])}editEmailtemp(e){const t=this.modal.open(se,{windowClass:"varient",keyboard:!1,backdrop:"static"});e&&(this.service.setemailtemplistdata(e),t.componentInstance.id=e.emailTemplateId)}deleteEmailtemp(e){const t=this.modal.open(pe.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});t.componentInstance.key="",t.componentInstance.id="",t.result.then(t=>{"deleted"===t&&(this.sandbox.emailTemplateDelete({emailTemplateId:e}),this.regSubscribeEvents())})}regSubscribeEvents(){this.sandbox.emailTempDelete$.subscribe(e=>{e&&1===e.status&&this.getemailtempList(this.offset,this.pageSize)})}onPageChange(e){this.pageSize=e.pageSize,this.index=e.pageIndex,this.offset=e.pageSize*e.pageIndex,this.getemailtempList(this.offset,this.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(p.\u0275\u0275directiveInject(Q.FF),p.\u0275\u0275directiveInject(_.F0),p.\u0275\u0275directiveInject(N),p.\u0275\u0275directiveInject(o))},e.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-spurt-listemailtemp"]],decls:12,vars:0,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],[2,"width","100%"],["ngbTabContent","","style","display: flex !important;"],[1,"localize-header","flex"],[1,"loc-hdr-lft"],[1,"input-group"],[1,"select"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngIf"],["value","10"],["value","20"],["value","30"],[1,"setup-right"],[1,"table-responsive"],[1,"table"],["scope","col",1,""],["scope","col"],["scope","col",2,"width","466px"],["scope","col",1,"text-center",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","page"],[3,"value"],["scope","row",1,""],[2,"width","466px",3,"innerHtml"],[4,"ngIf"],[1,"text-center",3,"appHideIfUnauthorized","multipleHide"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle","",1,"fa","fa-ellipsis-v","cursor",2,"padding","0 15px"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","","href","javascript:void(0)",1,"dropdown-item",3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt","edit"],["src","assets/img/delete-new.png","alt","delete"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275elementStart(1,"h4"),p.\u0275\u0275text(2,"Note :"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"p"),p.\u0275\u0275text(4,"In this section, the can manage and maintain the subject and content of the email templates that will be used for sending notifications to Vendor, Customers and Admin themselves, in different instances. "),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"div",1),p.\u0275\u0275elementStart(6,"div",2),p.\u0275\u0275elementStart(7,"div",3),p.\u0275\u0275elementStart(8,"div",4),p.\u0275\u0275elementStart(9,"ngb-tabset",5),p.\u0275\u0275elementStart(10,"ngb-tab"),p.\u0275\u0275template(11,fe,40,29,"ng-template",6),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd())},directives:[Q.T3,Q.N_,Q.EU,l.SelectControlValueAccessor,l.NgControlStatus,l.NgModel,a.NgIf,l.NgSelectOption,l.\u0275NgSelectMultipleOption,oe.E,a.NgForOf,me.NW,Q.jt,Q.iD,Q.Vi,Q.TH],pipes:[W.X$,a.AsyncPipe],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),e})();var Se=n(8300);const Ee=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ve,canActivate:[Se.a],data:{permission:"list-email-template"}},{path:"add",component:se,canActivate:[Se.a],data:{permission:"create-email-template"}},{path:"edit/:id",component:se,canActivate:[Se.a],data:{permission:"edit-email-template"}}];let xe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({imports:[[_.Bz.forChild(Ee)],_.Bz]}),e})();var be=n(39717),Ie=n(20044),Te=n(91841),we=n(12476);let Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({providers:[o,N],imports:[[a.CommonModule,i.o,l.FormsModule,l.ReactiveFormsModule,be.q,xe,we.K,r.sQ.forFeature([K]),W.aw.forChild({loader:{provide:W.Zw,useFactory:Ie.g,deps:[Te.eN]}}),Y.dF]]}),e})()},9819:function(e,t,n){n.d(t,{j:function(){return l}});var a=n(37716),i=n(72782);let l=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key&&this.activeModal.close("deleted")}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(i.Kz))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-delete-confirmation-dialog"]],decls:12,vars:0,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"button",1),a.\u0275\u0275listener("click",function(){return t.close()}),a.\u0275\u0275elementStart(2,"span",2),a.\u0275\u0275text(3,"\xd7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"h4"),a.\u0275\u0275element(5,"img",3),a.\u0275\u0275text(6," Do You Want To Delete? "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",4),a.\u0275\u0275elementStart(8,"button",5),a.\u0275\u0275listener("click",function(){return t.close()}),a.\u0275\u0275text(9," No "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"button",6),a.\u0275\u0275listener("click",function(){return t.deleteContent()}),a.\u0275\u0275text(11," Yes "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),e})()}}]);